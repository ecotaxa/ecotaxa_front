/*! For license information please see 942.3328d115f428a0417fa0.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[942],{8942:(t,e,s)=>{s.r(e),s.d(e,{default:()=>o,initImport:()=>i});var a=s(4860),l=s(7114),r=s(4982),n=s.n(r);l.AH.lastused="last-used",l.AH.small="tdsmall";const i=async t=>{const{DataImport:e}=await Promise.all([s.e(542),s.e(314),s.e(4),s.e(366)]).then(s.bind(s,9366));t.dataImport=new e(t),t.importfields=t.grid.columns.filter((t=>t.selectcells)),t.importfields=t.importfields.length?t.importfields[0].selectcells:null,t.waitdiv.remove()};function o(t){let e=0;if(document.styleSheets&&document.styleSheets.length&&document.styleSheets[0].cssRules&&Object.values(document.styleSheets[0].cssRules).forEach(((t,s)=>{t.selectorText&&".progress data"===t.selectorText.trim()&&(e=t.style.cssText.split(";"),e.forEach((t=>{"max-width"===(t=t.split(":"))[0].trim()&&t.length>1&&(e=parseInt(t[1].trim()))})))})),e=e>0?e:64,t.cellidname=l.Jn.projid,t.initImport=i,t.params.lastused){const e=JSON.parse(t.params.lastused);t.setRowAttributes=(t,s,a)=>(a&&e.indexOf(a)>=0&&s.classList.add(l.AH.lastused),s)}return{contact:(e,s,a,r={})=>{const n=!!Array.isArray(e)&&Boolean(e[1]);null===(e=Array.isArray(e)?String(e[0]).trim():String(e).trim())&&(e="");let i=[];const o=t.getCellData(s,l.Jn.projid);let c=t.getCellData(s,l.Jn.contact),d=!1;if(null===c?(c=t.getCellData(s,l.Jn.managers),c=c&&c.length?c[0]:null):d=!0,c){const s={nodename:"A",attributes:{href:`mailto:${c.email}`,class:"contact",target:"_blank"},childnodes:[t.setTextNode(c.name)]};d&&(s.attributes["data-contact"]=d),i=[t.setTextNode(e),s]}else i=[t.setTextNode(e)];return r.childnodes=!0===n?[{nodename:"DETAILS",attributes:{"data-id":o,"data-what":l.Jn.about},childnodes:[{nodename:"SUMMARY",childnodes:i}]}]:i,r},imports:(e,s,a,r={})=>{t.getCellData(s,l.Jn.projid);const i=t.grid.columns[a];if(i.hasOwnProperty("selectcells")){let e=[],a=t.params.btn?t.params.btn:"import";switch(i.what){case l.Jn.taxo:(i.parts?i.parts:i.selectcells).forEach(((l,r)=>{let i=t.getCellData(s,l);i=null===i||n()(i,{})?" disabled":"",r>0&&(a=t.params.btn1?t.params.btn1:"extra"),e.push({nodename:"BUTTON",attributes:{class:`btn is-preset${i}`,type:"button"},childnodes:[{nodename:"I",attributes:{class:"icon-md  "+(""===i?"icon-plus-sm":""),type:"button"},childnodes:[]},t.setTextNode(a)]})}));break;case l.Jn.settings:case l.Jn.privileges:case l.Jn.fields:e.push({nodename:"BUTTON",attributes:{class:"btn is-preset",type:"button"},childnodes:[t.setTextNode(a)]})}r.childnodes=e}else r.childnodes=[];return r},controls:(e,s,a,r={})=>{let n=[];const i=t.getCellData(s,l.Jn.projid);return Object.entries(e).forEach((([e,a])=>{let r={nodename:"A"};switch(e){case"A":r.attributes={class:"btn is-annotate order-1",href:`/prj/${i}`};break;case"V":r.attributes={class:"btn is-view order-1",href:`/prj/${i}`};break;case"M":r.attributes={class:"btn is-manage order-2",href:`/gui/prj/edit/${i}`};break;case"R":const e=t.getCellData(s,l.Jn.contact);r.attributes={class:"btn is-request order-2",href:`mailto:${e.email}?${i}`}}r.childnodes=[t.setTextNode(a)],n.push(r)})),r.attributes=r.hasOwnProperty("attributes")?r.attributes:{},r.attributes.class=r.attributes.class?r.attributes.class+" "+l.AH.component.table.controls:l.AH.component.table.controls,r.childnodes=n,r},progress:(s,a,r,n={})=>{null===s&&(s=0),s=parseInt(s)-parseFloat(s).toFixed(2)==0?parseInt(s):parseFloat(s).toFixed(2);const i=parseFloat(s*(e/100)).toFixed(2),o={nodename:"DATA",attributes:{style:`width:${i}px`,"data-w":`${i}`}};return n.attributes=n.hasOwnProperty("attributes")?n.attributes:{},n.attributes.class=n.attributes.class?n.attributes.class+" "+l.AH.progress:l.AH.progress,n.childnodes=[t.setTextNode(String(s)+"%"),o],n},license:(t,e,s,l={})=>(l.html=(0,a.format_license)(t,!0),l),status:(t,e,s,a={})=>(a.attributes=a.hasOwnProperty("attributes")?a.attributes:{},a.attributes.class=a.attributes.class?a.attributes.class+l.AH.small:l.AH.small,a.html=t,a),privileges:(e,s,a,l={})=>{e&&""!==e||(l.childnodes=[t.setTextNode("")]);let r=[];return Object.entries(e).forEach((([e,s])=>{let a=[];s.length&&(s.forEach((t=>{a.push(t.name)})),r.push({nodename:"DIV",attributes:{class:"rights","data-r":e},childnodes:[t.setTextNode(a.join(", "))]}))})),l.childnodes=r,l},taxons:(e,s,a,r={})=>{null===e&&(r.childnodes=[t.setTextNode("")]);const n=Object.keys(e).length;return n>0?(e=Object.values(e).join(", "),r.childnodes=[{nodename:"DIV",attributes:{class:l.AH.component.table.tip,"data-num":n},childnodes:[t.setTextNode(e)]}]):r.childnodes=[t.setTextNode("")],r}}}}}]);