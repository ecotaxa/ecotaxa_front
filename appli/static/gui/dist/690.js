/*! For license information please see 690.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[690,57,615],{615:(e,t,s)=>{s.d(t,{FormSubmit:()=>d});var i=s(7856),a=s.n(i),n=s(2817),r=s(9162);const l="input-invalid",o="input-valid";n.EY.captcha=".js-captcha";class d{handlers=[];form=null;listener=null;constructor(e,t={}){if(e){if(!e.formsubmit){this.form=e instanceof HTMLElement?e:document.querySelector(e);const s={fetch:null};if(t=Object.assign(t,this.form.dataset),this.options=Object.assign(s,t),!this.form)return;this.tabs=this.form.querySelectorAll(n.EY.component.tabs.tab),this.validateFields(!0),this.init(),e.formsubmit=this}return e.formsubmit}}init(){this.form.addEventListener("submit",(async e=>{e.preventDefault();return await this.submitForm()})),this.specialFields()}specialFields(){this.form.querySelectorAll("input[data-match]").forEach((e=>{const t=e.dataset.match;if(!t)return;const s=document.getElementById(t);if(!s)return;const i=e.dataset.matchinvalid?e.dataset.matchinvalid:"no match",a=(t,a)=>{const n=e.previousElementSibling&&"label"==e.previousElementSibling.tagName.toLowerCase()?e.previousElementSibling:null,r=s.previousElementSibling&&"label"==s.previousElementSibling.tagName.toLowerCase()?s.previousElementSibling:null,{patternMismatch:d=!1}=t.validity,c=d?this.get_message(t,"invalid"):"";!0===t.checkValidity()?(t.dataset.invalid="",t.setCustomValidity(""),t==e&&null!==n?n.classList.remove(l):null!==r&&r.classList.remove(l),t.classList.remove(o),t.value!==a.value?(e.setCustomValidity(i),n&&(n.dataset.invalid=n.dataset.invalid?n.dataset.invalid:i,n.classList.add(l)),e.classList.add(o)):(e.setCustomValidity(""),n&&n.classList.remove(l),e.classList.remove(o))):(t.setCustomValidity(c),t.dataset.invalid=c,n&&n.classList.add(l),t.classList.add(o)),t.focus()};[e,s].forEach((t=>{t.addEventListener("keyup",(i=>{a(t,t===e?s:e)}))}))}))}get_message(e,t="invalid"){if(0==e.checkValidity()){const{valueMissing:s=!0}=e.validity;return s?"* "+(e.dataset.required?e.dataset.required:this.form.dataset.required?this.form.dataset.required:"required"):e.dataset[t]?e.dataset[t]:"input invalid"}return""}validateField(e,t=!1){["textarea","input"].indexOf(e.tagName.toLowerCase()),["select",'input[type="checkbox"]'].indexOf(e.tagName.toLowerCase())>=0?e.querySelectorAll("option:checked").forEach((e=>{e.value=(0,r.Tv)(a().sanitize(e.value))})):e.value=(0,r.Tv)(a().sanitize(e.value));const s=e.checkValidity(),i=this.getFieldLabel(e);return i&&(s?i.classList.remove(l):s||(i.dataset.invalid=this.get_message(e),i.classList.add(l),window.scrollTo({top:parseInt(i.offsetTop),left:parseInt(i.offsetLeft),behavior:"smooth"}))),s}getFieldLabel(e){return e.closest(".form-box")?e.closest(".form-box").querySelector(".label")?e.closest(".form-box").querySelector(".label"):e.closest(".form-box").querySelector("label"):null}validateFields(e=!1){let t=!0;return[...this.form.elements].forEach((s=>{if(s.name)if(!0===e){if(!s.dataset.listen){if(s.hasAttribute("required")&&s.required){const e=this.getFieldLabel(s);e&&e.classList.add("required")}["change","blur"].forEach((t=>{s.addEventListener(t,(t=>{this.validateField(t.currentTarget,e)}))})),s.dataset.listen=!0}}else t=t&&this.validateField(s,e)})),this.tabs.forEach((e=>{e.querySelector(":invalid")||e.querySelector(n.EY.component.alert.danger)?e.classList.add(n.iv.error):e.classList.remove(n.iv.error)})),t}addHandler(e){this.handlers.push(e)}fieldEnable(e=!0){this.form.querySelectorAll('input[data-sub="enable"]').forEach((t=>{t.disabled=!0!==e}))}async submitHandler(){if(!this.validateFields())return!1;if(0===this.handlers.length)return!0;let e=!0;return await Promise.all(this.handlers.map((async t=>{const s=await t();e=e&&s}))),!0===e&&(this.handlers=[]),e}formFetch(e=null){const t=new FormData(this.form);return t.fetch=!0,fetch(this.form.action,(0,r.wv)({method:"POST",body:t})).then((t=>{switch(e){case"text":case"html":return t.text();default:return t.json()}})).then((e=>{this.displayResponse(e)})).catch((e=>{this.displayResponse(e,!0)})).finally((e=>{this.form.disabled=!0})),!1}async submitForm(){if(this.fieldEnable(),this.validateFields(!1)){if(!0===(!!this.form.querySelector(n.EY.captcha)&&(!this.form.dataset.isbot||!0===this.form.dataset.isbot)))return!1;return!!await this.submitHandler()&&(this.options.fetch?this.formFetch(this.options.fetch):this.form.submit(),this.form.disabled=!0,!0)}return!1}displayResponse(e,t=!1){const s=document.createElement("div");s.insertAdjacentHTML("afterbegin",e),!1!==t&&s.classList.add("is-error"),this.form.parentElement.insertBefore(s,this.form),this.form.remove()}}},2057:(e,t,s)=>{s.d(t,{JsTomSelect:()=>g});var i=s(7856),a=s.n(i),n=s(6031),r=s.n(n),l=s(2651),o=s.n(l),d=s(4555),c=s.n(d),u=s(4775),h=s.n(u),m=s(9162),p=s(2817);r().define("remove_button",o()),r().define("clear_button",c()),r().define("caret_position",h());let f={};function v(e,t,s=!1){if(!t)return e.text;let i=[];return Object.keys(e).indexOf(t)>=0?i.push(e[t]):t.indexOf("+")>0&&(!0===s?i.push(e[t.split("+")[0]]):t.split("+").forEach((t=>{t in e&&i.push(e[t])}))),i.join(" ")}class g{applyTo(e,t={},s=null){const i=e.getAttribute("id"),n=e.hasAttribute("multiple"),l=e.dataset.type;let o={url:"",settings:t};switch(e.dataset.create&&"true"===e.dataset.create&&(o.settings.create=!0,o.settings.addPrecedence=!0),e.dataset.empty&&"true"===e.dataset.empty&&(o.settings.allowEmptyOption=!0),e.dataset.maxitems&&(o.settings.maxItems=parseInt(e.dataset.maxitems)),e.dataset.addoption&&(o.settings.addoption=e.dataset.addoption.split(",")),l){case p.Cq.project:const t=n?null:1;o.url="/gui/prjlist/",o.settings={...o.settings,valueField:"id",searchField:"text",labelField:"text",openOnFocus:!1,maxItems:t,allowEmptyOption:!1};break;case p.Cq.user:o.url="/api/users/search?by_name=",o.settings={...o.settings,valueField:"id",searchField:"name",labelField:"name+email",onInitialize:function(){e.tomselect.items.forEach((e=>{f[e]=!0}))},onItemAdd:function(t){if(""!==t)if(f[t]){if(f[t]=!1,n||!this.revertSettings||this.revertSettings.tabIndex<0||!e.options.length)return;const s=e.options[this.revertSettings.tabIndex].value;this.removeOption(t),this.addItem(s)}else f[t]=!0},onItemRemove:function(t){if(f[t]&&delete f[t],n||!this.revertSettings||""===this.revertSettings.innerHTML&&0===this.revertSettings.tabIndex||this.revertSettings.tabIndex<0)return;const s=e.options[this.revertSettings.tabIndex].value;void 0!==f[s]&&delete f[s]}};break;case p.Cq.instr:o.url="/search/instruments",o.settings={valueField:"id",labelField:"text",searchField:"id",maxItems:1,preload:!0};break;case p.Cq.taxo:r().define("no_close",(()=>{this.close=()=>{}})),o.url="/search/taxo",o.settings={...o.settings,valueField:"id",labelField:"text",searchField:"text",closeAfterSelect:!0,onInitialize:()=>{const t=document.getElementById(i).nextElementSibling;if(!t.classList.contains("ts-wrapper"))return;t.querySelectorAll(p.EY.component.tomselect.tsdelet).forEach((t=>{(t=>{t.addEventListener("click",(t=>{const s=t.currentTarget.closest(p.EY.component.tomselect.item).dataset.value;s&&(t.stopImmediatePropagation(),e.tomselect.removeItem(s))}))})(t)}))}}}const d={create:!1,minOptions:0,maxOptions:null,preload:!1,hideSelected:!0,duplicates:!1,allowEmptyOption:!0,closeAfterSelect:!0,placeholder:e.placeholder?e.placeholder:e.dataset.placeholder?e.dataset.placeholder:"",onDropdownClose:function(){},shouldLoad:function(e){return e.length>2},onItemRemove:function(){return!0},load:function(e,t){e=a().sanitize(e);if(this.loading>10)return void t();let s="";switch(l){case p.Cq.user:s=o.url+encodeURIComponent("%"+e+"%");break;case p.Cq.instr:case p.Cq.taxo:if(s=o.url,0==e.indexOf("_")&&o.settings.addoption&&e==o.settings.addoption[0])return s=null,t(Object.entries([{text:o.settings.addoption[0],id:o.settings.addoption[1]}]));e&&(s+="?q="+encodeURIComponent(e));break;case p.Cq.project:s=o.url,e&&(s+="?filt_title="+encodeURIComponent(e))}null!==s&&fetch(s,(0,m.wv)()).then((e=>e.json())).then((e=>(l===p.Cq.project&&e.data&&e.data.length&&(e=e.data.map((e=>({id:e[1],text:e[3][0],rights:e[0]})))),l===p.Cq.instr&&e.length&&(e=e.reduce(((e,t,s)=>{let i={id:t=a().sanitize(t),text:t};return e.push(i),e}),[])),e.length&&"object"==typeof e&&(e=Object.entries(e)),t(e)))).catch((e=>{console.log("tomselect-err",e)}))},render:{option:function(e,t){if(null==e)return"";const s=e.hasOwnProperty("optgroup")?`data-optgroup=${e.optgroup}`:"",i=v(e,o.settings.labelField);return`<div class="py-2 flex  ${n?"inline-flex":""} " ${s} data-value="${e[o.settings.valueField]}">${t(i)}</div>`},item:function(e,t){if(null==e)return"";const s=e.optgroup?`item-${e.optgroup}`:"",i=f[e[this.settings.valueField]]?"data-inlist":"",r=v(e,o.settings.labelField,!0);return a().sanitize(`<div class="${n?"flex inline-flex ":""} ${s}"  data-value="${e[this.settings.valueField]}"  ${i}>${t(r)} </div>`)},no_results:function(t,s){return a().sanitize('<div class="no-results">'+(e.dataset.noresults?e.dataset.noresults:"No result found for ")+s(t.input)+"</div>")}}};if(o.settings.plugins={clear_button:{title:e.dataset.clear?e.dataset.clear:"Clear all",html:e=>`<div class="${e.className}" id="clear-${i}" title="${e.title}"><i class="icon ${n?"":"p-[0.125rem]"} icon-x-circle-sm ${n?"":" opacity-50"}"></i></div>`}},o.settings.onClear=function(){return e.tomselect.clear(),!0},n&&(o.settings.plugins={...o.settings.plugins,remove_button:{}},o.settings.plugins={...o.settings.plugins,caret_position:{}}),o.settings=Object.assign(d,o.settings),null!==i){const t=new(r())("#"+i,o.settings);switch(t.wrapper.classList.remove(p.EY.component.tomselect.ident),t.wrapper.classList.remove("js"),t.wrapper.setAttribute("data-component","tom-select"),l){case p.Cq.taxo:t.on("item_add",((e,t)=>{null!==t&&t.classList.add("new")}));break;case p.Cq.project:e.dataset.dest&&t.on("item_add",((s,i)=>{if(s!=e.dataset.value&&t.options[s]&&!i.querySelector("a")){const e={A:"/prj/",V:"/prj/",M:"/gui/prj/edit/"},a=t.options[s].rights,n=Object.keys(a);n&&(n.length>1?(Object.entries(a).forEach((([e,t])=>{i.insertAdjacentHTML("beforeend",` <a data-k="${e}" class="small-caps font-normal ml-2">${t}</a>`)})),i.querySelectorAll("a").forEach((i=>{i.addEventListener("click",(i=>{i.preventDefault(),i.stopPropagation(),window.open(e[i.target.dataset.k]+s,`_proj${s}`).focus(),t.removeItem(s)}))}))):(window.open(e[n[0]]+s,`_proj${s}`).focus(),t.removeItem(s)))}}))}return t}console.log("noid")}}},5690:(e,t,s)=>{s.d(t,{ProjectPrivileges:()=>u});var i=s(7856),a=s.n(i),n=s(615),r=s(4672),l=s(2057),o=s(2817);const d={oneatleast:"oneatleast",nomanager:"nomanager",nocontact:"nocontact",uhasnopriv:"uhasnopriv",importpriverror:"importpriverror",emptyname:"emptyname"};let c=null;class u{options;alertBox;current_uid;fieldset;fieldset_alert_zone;constructor(e={}){if(!c){const t={groupid:"#section-privileges",separ:".new-privilege",addbtn:'[data-add="block"]',target:"member",ident:"member",privilege:"privilege",delet:"delet",contact:"contact",contactfieldname:"contact_user_id",domselectors:{tabcontent:".tab-content"}};if(this.options=Object.assign({},t,e),this.fieldset=document.querySelector(this.options.groupid),!this.fieldset)return;this.fieldset_alert_zone=this.fieldset.querySelector(this.options.domselectors.tabcontent)?this.fieldset.querySelector(this.options.domselectors.tabcontent):this.fieldset,this.options.separ=this.options.separ instanceof HTMLElement?this.options.separ:document.querySelector(this.options.separ)?document.querySelector(this.options.separ):null,this.options.addbtn=this.options.addbtn instanceof HTMLElement?this.options.addbtn:document.querySelector(this.options.addbtn),this.options.addbtn&&this.addListener();const s=this.fieldset.querySelectorAll('[data-block="'+this.options.target+'"]');this.current_uid=this.fieldset.dataset.u,this.alertBox=new r.AlertBox,s.forEach((e=>{this.activateEvents(e)}));const i=this.fieldset.closest("form"),a=async()=>await this.cleanPrivileges();new n.FormSubmit(i).addHandler(a),c=this}return c}newLine(e=!1,t=0){let s;if(t>0&&(s=this.getLinePrivilege(t),s))return s;const i=this.fieldset.querySelectorAll('[data-block="'+this.options.target+'"]');if(0===i.length)return;const a=i.length-1;return s=i[a],null!==s&&(s=this.clearLine(s.cloneNode(!0),a,this.options.separ?this.options.separ:s),this.activateEvents(s)),!0===e?s:void 0}addListener(){this.options.target=this.options.addbtn.dataset.target?this.options.addbtn.dataset.target:this.options.target,this.options.addbtn.addEventListener("click",(async e=>{e.preventDefault(),this.newLine()}))}clearLine(e,t,s=null){let i=null;e.dataset.mod="",e.disabled=!1;if(e.querySelectorAll("[data-elem]").forEach((e=>{e.querySelectorAll("[data-component]").forEach((e=>{if("tom-select"===e.dataset.component)e.remove()}));e.querySelectorAll("input, select, label").forEach((e=>{if(e.disabled=!1,s){["id","for","aria-controls","name"].forEach((s=>{let i=e.getAttribute(s);null!==i&&(i="name"===s?i.replace("["+t+"]","["+(t+1)+"]"):i.replace("_"+t,"_"+(t+1)),e.setAttribute(s,i))}))}switch(e.tagName.toLowerCase()){case"input":e.checked=!1,e.name==this.options.contactfieldname&&(e.value="0",e.disabled=!0);break;case"select":e.selectedIndex=-1;break;case"label":e.classList.remove(o.iv.peerchecked)}e.tomselect&&(i=e,e.tomselect.clear(),e.tomselect.destroy()),e.classList.contains(o.iv.component.autocomplete.tomselected)&&(i=e,e.classList.forEach((t=>{0==t.indexOf("ts-")&&e.classList.remove(t)})),e.classList.remove(o.iv.component.autocomplete.tomselected),"select-one"==e.type&&delete e.type)}))})),s&&(e.classList.add("new"),s.after(e)),null!==i){(new l.JsTomSelect).applyTo(i),i.tomselect.clearOptions();let e=this.fieldset.dataset.options;e=e||[],i.tomselect.addOptions(e)}return e}setLine(e,t={key:"",value:""},s,i){if(!(s=o.HN[s]?o.HN[s]:o.HN.viewers))return;const{member:n,privs:r,contact:l,delet:d}=this.getInputs(e,s);if(!(n&&r&&l&&d))return;t.key=a().sanitize(t.key),t.value=a().sanitize(t.value);const c=n.tomselect;if(c){c.clear();const e={};e[c.settings.valueField]=t.key,e[c.settings.labelField]=e[c.settings.searchField]=t.value,c.addOption(e),c.setValue([t.key])}else{const e=n.querySelector('select option[value="'+t.key+'"]');e?e.selected=!0:n.insertAdjacentHTML("beforeend",'<option value="'+t.key+'" selected>'+t.value+"</option>")}r.checked=!0,l.value=t.key,s===o.hp.manage?(l.disabled=!1,!0===i&&(l.checked=!0)):(l.disabled=!0,l.checked=!1)}getInputs(e,t=!1){const s=e.querySelector("[name*='["+this.options.ident+"]']");let i;i=t?e.querySelector('input[name*="['+this.options.privilege+']"][value="'+t+'"]'):e.querySelectorAll('input[name*="['+this.options.privilege+']"]');return{member:s,privs:i,contact:e.querySelector('input[name="'+this.options.contactfieldname+'"]'),delet:e.querySelector("input[name*='["+this.options.delet+"]']")}}async importPrivileges(e,t=!1,s=null,i=null,a=null){let n=!t;try{return Object.entries(e).forEach((([e,a])=>{a.forEach((a=>{n=n?this.newLine(!0,a.id):this.clearAll(!0,!0===t?a.id:null),n&&(this.setLine(n,{key:a.id,value:a.name},e,null!==s&&parseInt(s.id)===parseInt(a.id)),i&&i(n))}))})),a&&a(),this.alertBox.dismissAlert(d.importpriverror),!0}catch(e){return await this.alertBox.build({dismissible:!0,message:d.importpriverror,codeid:!0,parent:this.fieldset_alert_zone,type:o.iN.danger}),console.log("err",e),!1}}activateEvents(e){if(!e)return;const{member:t,privs:s,contact:i,delet:a}=this.getInputs(e);if(!(t&&s&&i&&a))return;const n=e=>[...e.parentElement.children].filter((t=>1==t.nodeType&&t!=e&&t.classList.contains("row")&&null!==t.dataset.block&&t.dataset.block===this.options.target)),r=(t,s,i,a=!1)=>{t&&t.value===o.hp.manage?(i.disabled=!0,s.disabled=!1,this.alertBox.dismissAlert(d.nomanager),s.checked&&this.alertBox.dismissAlert(d.nocontact)):(s.checked=!1,i.disabled=!1,s.disabled=!0),!0===a&&l(e),i.ckecked||(this.alertBox.dismissAlert(d.nobody),this.alertBox.dismissAlert(d.oneatleast))},l=e=>{n(e).forEach((e=>{const t=e.querySelector("input[name*='["+this.options.delet+"]']"),s=e.querySelector('input[name="'+this.options.contactfieldname+'"]'),i=e.querySelector('input[name*="['+this.options.privilege+']"]:checked');r(i,s,t,!1)}))};t.addEventListener("change",(e=>{i.value=t.value,t.value&&(this.alertBox.dismissAlert(d.emptyname),this.alertBox.dismissAlert(d.oneatleast),this.alertBox.dismissAlert(d.nobody))})),s.forEach((e=>{e.addEventListener("change",(t=>{e.checked&&r(e,i,a,!1)})),e.checked&&r(e,i,a,!1)})),i.addEventListener("change",(t=>{t.target.checked?a.disabled=!0:a.disabled=!1;const s=e.querySelector('input[name*="['+this.options.privilege+']"]:checked');r(s,i,a,!0)})),a.addEventListener("click",(n=>{const r=a.closest("label");if(this.fieldset.querySelectorAll('[data-block="'+this.options.target+'"]:not([data-mod="remove"])').length<=1&&n.target.checked)return a.disabled=!0,a.checked=!1,void this.alertBox.build({dismissible:!0,message:d.oneatleast,codemessage:d.oneatleast,type:o.iN.warning,parent:n.currentTarget.id||null});n.target.checked?(this.alertBox.dismissAlert(d.oneatleast),e.classList.contains("new")?e.remove():(r&&r.dataset.restore&&r.setAttribute("title",r.dataset.restore),e.setAttribute("data-mod","remove"),s.forEach((e=>{e.disabled=!0,e.checked=!1})),i.checked=!1,i.disabled=!0,t.disabled=!0)):(r&&r.dataset.remove&&r.setAttribute("title",r.dataset.remove),e.removeAttribute("data-mod"),s.forEach((e=>e.disabled=!1)),i.disabled=!1,t.disabled=!1)})),a.addEventListener("mouseover",(t=>{if(t.target.disabled){let s=e.querySelector('input[name*="['+this.options.privilege+']"]:checked');if(!s)return;s=s.value.toLowerCase(),t.target.title=t.target.dataset[s]?t.target.dataset[s]:t.target.title}})),this.current_uid===t.value&&(a.disabled=!0)}async cleanPrivileges(){const e=e=>e.querySelector('[name*="['+this.options.ident+']"]').value,t=e=>{const t=e.querySelector('[name*="['+this.options.privilege+']"]:checked');return!(!t||!t.value)},s=e=>{e.querySelectorAll('[name*="members["').forEach((e=>{let t=e.name;t=t.split("["),t.pop(),e.name=t.join("["),e.name.indexOf("["+this.options.privilege+"]")>0&&(e.type="checkbox",e.classList.add("hidden"))}))};if(!0===await(async()=>{if(0===this.fieldset.querySelectorAll('[name*="['+this.options.privilege+']"][value="'+o.hp.manage+'"]:checked').length)return await this.alertBox.build({dismissible:!0,message:d.nomanager,codeid:!0,type:o.iN.danger,parent:this.fieldset_alert_zone}),this.tabError(!0),!1;this.alertBox.dismissAlert(d.nomanager),this.tabError(!1);return null===this.fieldset.querySelector('[name="'+this.options.contactfieldname+'"]:checked')?(await this.alertBox.build({dismissible:!0,codeid:!0,message:d.nocontact,type:o.iN.danger,parent:this.fieldset_alert_zone}),this.tabError(!0),!1):(this.alertBox.dismissAlert(d.nocontact),this.tabError(!1),!0)})()){const i=this.fieldset.querySelectorAll('[data-block="'+this.options.target+'"]');let a=i.length,n=!0;for(const s of i)if(s.dataset.mod&&"remove"===s.dataset.mod){if(!(a>1))return!1;s.remove(),a--}else if(e(s))t(s)?this.alertBox.dismissAlert(d.uhasnopriv):(this.alertBox.dismissAlert(d.emptyname),await this.alertBox.build({dismissible:!0,insertafter:!0,codeid:!0,message:d.uhasnopriv,type:o.iN.warning,parent:s}),n=!1);else{const e=s.querySelector('[name*="['+this.options.ident+']"]');e.focus(),e.tomselect&&e.tomselect.focus(),await this.alertBox.build({dismissible:!0,insertafter:!0,message:d.emptyname,codeid:!0,type:o.iN.warning,parent:s});if(!0!==!1)return!1;if(!(a>1))return!1;s.remove(),a--}if(!n)return n;for(const e of i)s(e);return 0===a?(await this.alertBox.build({dismissible:!0,codeid:!0,message:d.nobody,type:o.iN.warning,parent:this.fieldset_alert_zone}),!1):(this.alertBox.dismissAlert(d.nobody),!0)}return!1}getLinePrivilege(e){let t=null;const s=this.fieldset.querySelectorAll('[data-block="'+this.options.target+'"]');for(const i of s)if(parseInt(i.querySelector('[name*="['+this.options.ident+']"]').value)===parseInt(e)){t=i;break}return t}clearAll(e=!1,t=null){let s=this.fieldset.querySelectorAll('[data-block="'+this.options.target+'"]'),i=-1;s.forEach(((e,s)=>{const{member:a,privs:n,contact:r,delet:l}=this.getInputs(e);this.current_uid!==a.value&&parseInt(t)!==parseInt(a.value)||(i=s),(s>0||i>0&&i!==s)&&e.remove()}));const a=this.newLine(!0);if(!0===e)return a}tabError(e){const t=this.fieldset.classList.contains(o.EY.component.tabs.tab.substr(1))?this.fieldset:this.fieldset.parentElement.classList.contains(o.EY.component.tabs.tab.substr(1))?this.fieldset.parentElement:null;null!==t&&(!0===e?t.classList.add(o.iv.error):t.classList.remove(o.iv.error))}}}}]);