/*! For license information please see src_modules_js-import_js.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_modules_js-import_js"],{"./src/modules/js-import.js":(module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsImport: () => (/* binding */ JsImport)\n/* harmony export */ });\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dompurify */ \"./node_modules/dompurify/dist/purify.js\");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/utils.js */ \"./src/modules/utils.js\");\n/* harmony import */ var _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/modules-config.js */ \"./src/modules/modules-config.js\");\n/* harmony import */ var _modules_entry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/entry.js */ \"./src/modules/entry.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_modules_entry_js__WEBPACK_IMPORTED_MODULE_3__]);\n_modules_entry_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n_modules_modules_config_js__WEBPACK_IMPORTED_MODULE_2__.css.displayimport = 'displayimport';\nfunction JsImport(container, options = {}) {\n  const defaultOptions = {\n    selectors: {\n      typeimport: \"typeimport\",\n      inputname: \"file_to_load\",\n      showfiles: \".showfiles\",\n      importzone: \"import-list\",\n      sourcezone: \"dirlist\"\n    },\n    url: {\n      import: \"gui/import\",\n      dirlist: \"gui/files\"\n    },\n\n  };\n  options = { ...defaultOptions,\n    ...options\n  };\n  container = (container instanceof HTMLElement) ? container : document.querySelector(container);\n  if (!container) return;\n  let url = {};\n  url.dirlist = (container.dataset.dirlist) ? container.dataset.dirlist : options.url.dirlist;\n  url.import = (container.dataset.import) ? container.dataset.import : options.url.import;\n  const submitbtn = container.querySelector('[type=\"submit\"]');\n  let typeimport;\n  let myFiles;\n  let eventnames = {\n    import: 'import'\n  };\n  let importliste = \"\";\n  let filetoload;\n  let importzone = null;\n  let dragentry = null;\n\n  function init() {\n    // init steps to display import sequence\n    addImportZone();\n    container.querySelectorAll('input[name=\"' + options.selectors.typeimport + '\"]').forEach(typeimport => {\n      typeimport.addEventListener('change', (e) => {\n        if (e.currentTarget.checked) {\n          console.log(e.currentTarget)\n          typeimport = e.currentTarget.value;\n          showSelection(true);\n        }\n      })\n    });\n    container.formsubmit.addHandler('submit', async () => {\n      return processImport();\n    });\n    showSelection();\n  }\n\n  function addImportZone() {\n    if (!importzone) {\n      const importzoneid = (container.dataset.importzone) ? container.dataset.importzone : options.selectors.importzone;\n      const zone = document.getElementById(importzoneid);\n      if (zone === null) return;\n      filetoload = (0,_modules_utils_js__WEBPACK_IMPORTED_MODULE_1__.create_box)('input', {\n        type: \"hidden\",\n        id: options.selectors.inputname,\n        name: options.selectors.inputname,\n        class: \"form-input\",\n        required: true\n      }, zone);\n\n      const response = (0,_modules_utils_js__WEBPACK_IMPORTED_MODULE_1__.create_box)('div', {\n        class: \"response-summary\"\n      }, );\n      (0,_modules_utils_js__WEBPACK_IMPORTED_MODULE_1__.create_box)('div', {\n        id: \"total-objects\",\n        class: _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_2__.css.info,\n        data: {\n          text: \"Total objects\"\n        }\n      }, response);\n      (0,_modules_utils_js__WEBPACK_IMPORTED_MODULE_1__.create_box)('div', {\n        id: \"total-tsv\",\n        class: _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_2__.css.info,\n        data: {\n          text: \"Total TSV\"\n        }\n      }, response);\n      importzone = (0,_modules_utils_js__WEBPACK_IMPORTED_MODULE_1__.create_box)('ul', {\n        class: _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_2__.css.displayimport,\n      }, zone);\n    }\n\n  }\n  async function showSelection(refresh = false) {\n    const apply_filters = () => {\n      let filters = typeimport.split('-');\n      filters = filters.map(filter => {\n        return new Set([...(filter_files[filter] ? filter_files[filter] : [])]);\n      });\n      myFiles.container.querySelectorAll('[data-ftype]').forEach(entry => {\n        if (filters.has(entry.dataset.ftype)) entry.classList.remove('disabled');\n        else entry.classList.add('disabled');\n      });\n    }\n    const displayselection = document.getElementById(options.selectors.sourcezone);\n    if (!displayselection) return;\n    if (!myFiles) {\n      const {\n        JsMyFiles\n      } = await __webpack_require__.e(/*! import() */ \"src_modules_js-my-files_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../modules/js-my-files.js */ \"./src/modules/js-my-files.js\"));\n      myFiles = new JsMyFiles(displayselection, {\n        import: url.toimport,\n        url: url.dirlist,\n        upload: {\n          label: (displayselection.dataset.uploadlabel) ? (displayselection.dataset.uploadlabel) : 'upload',\n          callback: () => {\n            showSubmit(false);\n          }\n        }\n      });\n      addImportControls();\n    }\n\n    if (refresh === true) apply_filters();\n\n  }\n\n  function addImportPath(value) {\n    document.getElementById(options.selector.importzone).value = value;\n    const displayresult = document.getElementById(options.selector.displayresult);\n    if (displayresult) displayresult.innerHTML = `<li>${value.split('/').pop()}</li>`;\n    const options = container.querySelector('#' + options.selector.importoptions);\n  }\n\n  function addImportEntry(entry) {\n    // remove dir or file controls\n    myFiles.jsDirList.detachControls();\n    importliste = entry;\n    console.log('entryimp', entry)\n    const toimport = entry.container.cloneNode(true);\n    Array.from(importzone.children).forEach(child => {\n      child.remove();\n    });\n    importzone.append(toimport);\n    showSubmit();\n  }\n\n  function addImportControls() {\n    function add_remove_import(e) {\n      console.log('e removeimport callback', myFiles.jsDirList.dragentry)\n      console.log('e removeimportevent', e)\n    }\n    const control = {\n      import: {\n        action: 'import',\n        icon: 'icon-arrow-down-on-square-stack',\n        typentries: [_modules_entry_js__WEBPACK_IMPORTED_MODULE_3__.entryTypes.branch],\n        text: 'import into project',\n        callback: add_remove_import\n      }\n    };\n    myFiles.jsDirList.entrycontrols.options.controls = { ...control,\n      ...myFiles.jsDirList.entrycontrols.options.controls\n    };\n    console.log('entrycontrols', myFiles.jsDirList.entrycontrols.options.controls)\n\n    function import_action(entry) {\n      addImportEntry(entry);\n    }\n    console.log(' entrycontrols', myFiles.jsDirList.entrycontrols)\n    myFiles.jsDirList.entrycontrols.addControl(control.import, 0, import_action);\n    myFiles.jsDirList.entrycontrols.activateControls();\n    importzone.addEventListener('drop', (e) => {\n      e.stopPropagation();\n      dragentry.container.classList.remove(dragentry.options.css.dragging);\n      addImportEntry(dragentry);\n      importzone.classList.remove(dragentry.options.css.dragover);\n      add_remove_import(e);\n      dragentry = myFiles.jsDirList.dragentry = null;\n    });\n    importzone.addEventListener('dragover', (e) => {\n      e.preventDefault();\n      if (!dragentry) {\n        dragentry = myFiles.jsDirList.dragentry;\n        dragentry.setOff();\n        importzone.classList.add(dragentry.options.css.dragover);\n      }\n    });\n\n  }\n\n  function showSubmit(show = true) {\n    const submit = container.querySelector('[type=\"submit\"]');\n    if (show) {\n      submit.classList.remove('hide');\n      submit.disabled = false;\n    } else submit.disabled = true;\n  }\n\n  function processImport() {\n    if (importliste === \"\") {\n      alert('nothing to upload');\n      return false;\n    }\n    filetoload.value = importliste.getCurrentDirPath();\n    return true;\n  }\n  init();\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9qcy1pbXBvcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWtDO0FBSUw7QUFHUztBQUdUO0FBQzdCLDJEQUFHO0FBQ0kseUNBQXlDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkRBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVAsdUJBQXVCLDZEQUFVO0FBQ2pDO0FBQ0EsT0FBTztBQUNQLE1BQU0sNkRBQVU7QUFDaEI7QUFDQSxlQUFlLDJEQUFHO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNLDZEQUFVO0FBQ2hCO0FBQ0EsZUFBZSwyREFBRztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsbUJBQW1CLDZEQUFVO0FBQzdCLGVBQWUsMkRBQUc7QUFDbEIsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxRQUFRLHdMQUFtQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsdUJBQXVCO0FBQy9FO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlEQUFVO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvanMtaW1wb3J0LmpzPzYwMjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERPTVB1cmlmeSBmcm9tICdkb21wdXJpZnknO1xuaW1wb3J0IHtcbiAgZmV0Y2hTZXR0aW5ncyxcbiAgY3JlYXRlX2JveFxufSBmcm9tICcuLi9tb2R1bGVzL3V0aWxzLmpzJztcbmltcG9ydCB7XG4gIGNzcyxcbn0gZnJvbSAnLi4vbW9kdWxlcy9tb2R1bGVzLWNvbmZpZy5qcyc7XG5pbXBvcnQge1xuICBlbnRyeVR5cGVzLFxufSBmcm9tICcuLi9tb2R1bGVzL2VudHJ5LmpzJztcbmNzcy5kaXNwbGF5aW1wb3J0ID0gJ2Rpc3BsYXlpbXBvcnQnO1xuZXhwb3J0IGZ1bmN0aW9uIEpzSW1wb3J0KGNvbnRhaW5lciwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIHNlbGVjdG9yczoge1xuICAgICAgdHlwZWltcG9ydDogXCJ0eXBlaW1wb3J0XCIsXG4gICAgICBpbnB1dG5hbWU6IFwiZmlsZV90b19sb2FkXCIsXG4gICAgICBzaG93ZmlsZXM6IFwiLnNob3dmaWxlc1wiLFxuICAgICAgaW1wb3J0em9uZTogXCJpbXBvcnQtbGlzdFwiLFxuICAgICAgc291cmNlem9uZTogXCJkaXJsaXN0XCJcbiAgICB9LFxuICAgIHVybDoge1xuICAgICAgaW1wb3J0OiBcImd1aS9pbXBvcnRcIixcbiAgICAgIGRpcmxpc3Q6IFwiZ3VpL2ZpbGVzXCJcbiAgICB9LFxuXG4gIH07XG4gIG9wdGlvbnMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29udGFpbmVyID0gKGNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSA/IGNvbnRhaW5lciA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgaWYgKCFjb250YWluZXIpIHJldHVybjtcbiAgbGV0IHVybCA9IHt9O1xuICB1cmwuZGlybGlzdCA9IChjb250YWluZXIuZGF0YXNldC5kaXJsaXN0KSA/IGNvbnRhaW5lci5kYXRhc2V0LmRpcmxpc3QgOiBvcHRpb25zLnVybC5kaXJsaXN0O1xuICB1cmwuaW1wb3J0ID0gKGNvbnRhaW5lci5kYXRhc2V0LmltcG9ydCkgPyBjb250YWluZXIuZGF0YXNldC5pbXBvcnQgOiBvcHRpb25zLnVybC5pbXBvcnQ7XG4gIGNvbnN0IHN1Ym1pdGJ0biA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xuICBsZXQgdHlwZWltcG9ydDtcbiAgbGV0IG15RmlsZXM7XG4gIGxldCBldmVudG5hbWVzID0ge1xuICAgIGltcG9ydDogJ2ltcG9ydCdcbiAgfTtcbiAgbGV0IGltcG9ydGxpc3RlID0gXCJcIjtcbiAgbGV0IGZpbGV0b2xvYWQ7XG4gIGxldCBpbXBvcnR6b25lID0gbnVsbDtcbiAgbGV0IGRyYWdlbnRyeSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAvLyBpbml0IHN0ZXBzIHRvIGRpc3BsYXkgaW1wb3J0IHNlcXVlbmNlXG4gICAgYWRkSW1wb3J0Wm9uZSgpO1xuICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwiJyArIG9wdGlvbnMuc2VsZWN0b3JzLnR5cGVpbXBvcnQgKyAnXCJdJykuZm9yRWFjaCh0eXBlaW1wb3J0ID0+IHtcbiAgICAgIHR5cGVpbXBvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUuY3VycmVudFRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coZS5jdXJyZW50VGFyZ2V0KVxuICAgICAgICAgIHR5cGVpbXBvcnQgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgICAgc2hvd1NlbGVjdGlvbih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KTtcbiAgICBjb250YWluZXIuZm9ybXN1Ym1pdC5hZGRIYW5kbGVyKCdzdWJtaXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gcHJvY2Vzc0ltcG9ydCgpO1xuICAgIH0pO1xuICAgIHNob3dTZWxlY3Rpb24oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEltcG9ydFpvbmUoKSB7XG4gICAgaWYgKCFpbXBvcnR6b25lKSB7XG4gICAgICBjb25zdCBpbXBvcnR6b25laWQgPSAoY29udGFpbmVyLmRhdGFzZXQuaW1wb3J0em9uZSkgPyBjb250YWluZXIuZGF0YXNldC5pbXBvcnR6b25lIDogb3B0aW9ucy5zZWxlY3RvcnMuaW1wb3J0em9uZTtcbiAgICAgIGNvbnN0IHpvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbXBvcnR6b25laWQpO1xuICAgICAgaWYgKHpvbmUgPT09IG51bGwpIHJldHVybjtcbiAgICAgIGZpbGV0b2xvYWQgPSBjcmVhdGVfYm94KCdpbnB1dCcsIHtcbiAgICAgICAgdHlwZTogXCJoaWRkZW5cIixcbiAgICAgICAgaWQ6IG9wdGlvbnMuc2VsZWN0b3JzLmlucHV0bmFtZSxcbiAgICAgICAgbmFtZTogb3B0aW9ucy5zZWxlY3RvcnMuaW5wdXRuYW1lLFxuICAgICAgICBjbGFzczogXCJmb3JtLWlucHV0XCIsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICB9LCB6b25lKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBjcmVhdGVfYm94KCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiBcInJlc3BvbnNlLXN1bW1hcnlcIlxuICAgICAgfSwgKTtcbiAgICAgIGNyZWF0ZV9ib3goJ2RpdicsIHtcbiAgICAgICAgaWQ6IFwidG90YWwtb2JqZWN0c1wiLFxuICAgICAgICBjbGFzczogY3NzLmluZm8sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0ZXh0OiBcIlRvdGFsIG9iamVjdHNcIlxuICAgICAgICB9XG4gICAgICB9LCByZXNwb25zZSk7XG4gICAgICBjcmVhdGVfYm94KCdkaXYnLCB7XG4gICAgICAgIGlkOiBcInRvdGFsLXRzdlwiLFxuICAgICAgICBjbGFzczogY3NzLmluZm8sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0ZXh0OiBcIlRvdGFsIFRTVlwiXG4gICAgICAgIH1cbiAgICAgIH0sIHJlc3BvbnNlKTtcbiAgICAgIGltcG9ydHpvbmUgPSBjcmVhdGVfYm94KCd1bCcsIHtcbiAgICAgICAgY2xhc3M6IGNzcy5kaXNwbGF5aW1wb3J0LFxuICAgICAgfSwgem9uZSk7XG4gICAgfVxuXG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc2hvd1NlbGVjdGlvbihyZWZyZXNoID0gZmFsc2UpIHtcbiAgICBjb25zdCBhcHBseV9maWx0ZXJzID0gKCkgPT4ge1xuICAgICAgbGV0IGZpbHRlcnMgPSB0eXBlaW1wb3J0LnNwbGl0KCctJyk7XG4gICAgICBmaWx0ZXJzID0gZmlsdGVycy5tYXAoZmlsdGVyID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXQoWy4uLihmaWx0ZXJfZmlsZXNbZmlsdGVyXSA/IGZpbHRlcl9maWxlc1tmaWx0ZXJdIDogW10pXSk7XG4gICAgICB9KTtcbiAgICAgIG15RmlsZXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZ0eXBlXScpLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICBpZiAoZmlsdGVycy5oYXMoZW50cnkuZGF0YXNldC5mdHlwZSkpIGVudHJ5LmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIGVsc2UgZW50cnkuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBkaXNwbGF5c2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3B0aW9ucy5zZWxlY3RvcnMuc291cmNlem9uZSk7XG4gICAgaWYgKCFkaXNwbGF5c2VsZWN0aW9uKSByZXR1cm47XG4gICAgaWYgKCFteUZpbGVzKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIEpzTXlGaWxlc1xuICAgICAgfSA9IGF3YWl0IGltcG9ydCgnLi4vbW9kdWxlcy9qcy1teS1maWxlcy5qcycpO1xuICAgICAgbXlGaWxlcyA9IG5ldyBKc015RmlsZXMoZGlzcGxheXNlbGVjdGlvbiwge1xuICAgICAgICBpbXBvcnQ6IHVybC50b2ltcG9ydCxcbiAgICAgICAgdXJsOiB1cmwuZGlybGlzdCxcbiAgICAgICAgdXBsb2FkOiB7XG4gICAgICAgICAgbGFiZWw6IChkaXNwbGF5c2VsZWN0aW9uLmRhdGFzZXQudXBsb2FkbGFiZWwpID8gKGRpc3BsYXlzZWxlY3Rpb24uZGF0YXNldC51cGxvYWRsYWJlbCkgOiAndXBsb2FkJyxcbiAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgc2hvd1N1Ym1pdChmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGFkZEltcG9ydENvbnRyb2xzKCk7XG4gICAgfVxuXG4gICAgaWYgKHJlZnJlc2ggPT09IHRydWUpIGFwcGx5X2ZpbHRlcnMoKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gYWRkSW1wb3J0UGF0aCh2YWx1ZSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMuc2VsZWN0b3IuaW1wb3J0em9uZSkudmFsdWUgPSB2YWx1ZTtcbiAgICBjb25zdCBkaXNwbGF5cmVzdWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3B0aW9ucy5zZWxlY3Rvci5kaXNwbGF5cmVzdWx0KTtcbiAgICBpZiAoZGlzcGxheXJlc3VsdCkgZGlzcGxheXJlc3VsdC5pbm5lckhUTUwgPSBgPGxpPiR7dmFsdWUuc3BsaXQoJy8nKS5wb3AoKX08L2xpPmA7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjJyArIG9wdGlvbnMuc2VsZWN0b3IuaW1wb3J0b3B0aW9ucyk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRJbXBvcnRFbnRyeShlbnRyeSkge1xuICAgIC8vIHJlbW92ZSBkaXIgb3IgZmlsZSBjb250cm9sc1xuICAgIG15RmlsZXMuanNEaXJMaXN0LmRldGFjaENvbnRyb2xzKCk7XG4gICAgaW1wb3J0bGlzdGUgPSBlbnRyeTtcbiAgICBjb25zb2xlLmxvZygnZW50cnlpbXAnLCBlbnRyeSlcbiAgICBjb25zdCB0b2ltcG9ydCA9IGVudHJ5LmNvbnRhaW5lci5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgQXJyYXkuZnJvbShpbXBvcnR6b25lLmNoaWxkcmVuKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgIGNoaWxkLnJlbW92ZSgpO1xuICAgIH0pO1xuICAgIGltcG9ydHpvbmUuYXBwZW5kKHRvaW1wb3J0KTtcbiAgICBzaG93U3VibWl0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRJbXBvcnRDb250cm9scygpIHtcbiAgICBmdW5jdGlvbiBhZGRfcmVtb3ZlX2ltcG9ydChlKSB7XG4gICAgICBjb25zb2xlLmxvZygnZSByZW1vdmVpbXBvcnQgY2FsbGJhY2snLCBteUZpbGVzLmpzRGlyTGlzdC5kcmFnZW50cnkpXG4gICAgICBjb25zb2xlLmxvZygnZSByZW1vdmVpbXBvcnRldmVudCcsIGUpXG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2wgPSB7XG4gICAgICBpbXBvcnQ6IHtcbiAgICAgICAgYWN0aW9uOiAnaW1wb3J0JyxcbiAgICAgICAgaWNvbjogJ2ljb24tYXJyb3ctZG93bi1vbi1zcXVhcmUtc3RhY2snLFxuICAgICAgICB0eXBlbnRyaWVzOiBbZW50cnlUeXBlcy5icmFuY2hdLFxuICAgICAgICB0ZXh0OiAnaW1wb3J0IGludG8gcHJvamVjdCcsXG4gICAgICAgIGNhbGxiYWNrOiBhZGRfcmVtb3ZlX2ltcG9ydFxuICAgICAgfVxuICAgIH07XG4gICAgbXlGaWxlcy5qc0Rpckxpc3QuZW50cnljb250cm9scy5vcHRpb25zLmNvbnRyb2xzID0geyAuLi5jb250cm9sLFxuICAgICAgLi4ubXlGaWxlcy5qc0Rpckxpc3QuZW50cnljb250cm9scy5vcHRpb25zLmNvbnRyb2xzXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygnZW50cnljb250cm9scycsIG15RmlsZXMuanNEaXJMaXN0LmVudHJ5Y29udHJvbHMub3B0aW9ucy5jb250cm9scylcblxuICAgIGZ1bmN0aW9uIGltcG9ydF9hY3Rpb24oZW50cnkpIHtcbiAgICAgIGFkZEltcG9ydEVudHJ5KGVudHJ5KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJyBlbnRyeWNvbnRyb2xzJywgbXlGaWxlcy5qc0Rpckxpc3QuZW50cnljb250cm9scylcbiAgICBteUZpbGVzLmpzRGlyTGlzdC5lbnRyeWNvbnRyb2xzLmFkZENvbnRyb2woY29udHJvbC5pbXBvcnQsIDAsIGltcG9ydF9hY3Rpb24pO1xuICAgIG15RmlsZXMuanNEaXJMaXN0LmVudHJ5Y29udHJvbHMuYWN0aXZhdGVDb250cm9scygpO1xuICAgIGltcG9ydHpvbmUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZHJhZ2VudHJ5LmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKGRyYWdlbnRyeS5vcHRpb25zLmNzcy5kcmFnZ2luZyk7XG4gICAgICBhZGRJbXBvcnRFbnRyeShkcmFnZW50cnkpO1xuICAgICAgaW1wb3J0em9uZS5jbGFzc0xpc3QucmVtb3ZlKGRyYWdlbnRyeS5vcHRpb25zLmNzcy5kcmFnb3Zlcik7XG4gICAgICBhZGRfcmVtb3ZlX2ltcG9ydChlKTtcbiAgICAgIGRyYWdlbnRyeSA9IG15RmlsZXMuanNEaXJMaXN0LmRyYWdlbnRyeSA9IG51bGw7XG4gICAgfSk7XG4gICAgaW1wb3J0em9uZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoIWRyYWdlbnRyeSkge1xuICAgICAgICBkcmFnZW50cnkgPSBteUZpbGVzLmpzRGlyTGlzdC5kcmFnZW50cnk7XG4gICAgICAgIGRyYWdlbnRyeS5zZXRPZmYoKTtcbiAgICAgICAgaW1wb3J0em9uZS5jbGFzc0xpc3QuYWRkKGRyYWdlbnRyeS5vcHRpb25zLmNzcy5kcmFnb3Zlcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dTdWJtaXQoc2hvdyA9IHRydWUpIHtcbiAgICBjb25zdCBzdWJtaXQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW3R5cGU9XCJzdWJtaXRcIl0nKTtcbiAgICBpZiAoc2hvdykge1xuICAgICAgc3VibWl0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICAgIHN1Ym1pdC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSBzdWJtaXQuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0ltcG9ydCgpIHtcbiAgICBpZiAoaW1wb3J0bGlzdGUgPT09IFwiXCIpIHtcbiAgICAgIGFsZXJ0KCdub3RoaW5nIHRvIHVwbG9hZCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmaWxldG9sb2FkLnZhbHVlID0gaW1wb3J0bGlzdGUuZ2V0Q3VycmVudERpclBhdGgoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpbml0KCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/modules/js-import.js\n")}}]);