/*! For license information please see src_modules_table-collection_js.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_modules_table-collection_js"],{"./src/modules/table-collection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/utils.js */ "./src/modules/utils.js");\n/* harmony import */ var _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/modules-config.js */ "./src/modules/modules-config.js");\n\n\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(state) {\n  return {\n    contact_user: (value, rowIndex, cellIndex, td = {}) => {\n      const about = (Array.isArray(value)) ? Boolean(value[1]) : false;\n      value = (Array.isArray(value)) ? String(value[0]).trim() : String(value).trim();\n      if (value === null) value = ``;\n      let node = [];\n      //cell value is an array with title and  boolean which tells if about is autho or not\n      // display stats and info about the project if ok\n      const id = state.getCellData(rowIndex, _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_1__.models.id);\n      // contact\n      let contact = state.getCellData(rowIndex, _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_1__.models.contact_user);\n      const iscontact = (contact!==null);\n      if (contact) {\n        const nodecontact = {\n          nodename: "A",\n          attributes: {\n            href: `mailto:${contact.email}`,\n            class: "contact",\n            target: "_blank"\n          },\n          childnodes: [state.setTextNode(contact.name)]\n        };\n        if (iscontact) nodecontact.attributes["data-contact"] = iscontact;\n        node = [state.setTextNode(value), nodecontact];\n      } else node = [state.setTextNode(value)];\n      if (about === true) {\n        td.childnodes = [{\n          nodename: "DETAILS",\n          attributes: {\n            "data-id": id,\n            "data-what": _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_1__.models.about\n          },\n          childnodes: [{\n            nodename: "SUMMARY",\n            childnodes: node\n          }]\n        }];\n      } else td.childnodes = node;\n      return td;\n    },\n    select: (value, rowIndex, cellIndex, td = {}) => {\n      const id = state.getCellData(rowIndex, _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_1__.models.id);\n      const html = [];\n      Object.entries(value).forEach(([k, v]) => {\n        html.push(`<a href="/gui/collection/${k}/${id}" class="small-caps text-stone-50 rounded-sm p-1 shadow bg-mainblue-700 btn is-${k}">${v}</a>`)\n      })\n      td.html = html.join(``);\n      return td;\n    },\n    user: (value, rowIndex, cellIndex, td = {}) => {\n      td.html = (value) ? (value.email) ? `<a href="mailto:${value.email}" class="font-normal text-mainblue-700">${value.name}</a>` : value.name : ``;\n      return td;\n    },\n    user_list: (value, rowIndex, cellIndex, td = {}) => {\n      let html = {\n        users: [],\n        orgs: []\n      };\n\n      Object.entries(value).forEach(([k, vals]) => {\n       if (k.indexOf(\'_users\') > 0) {\n          vals.forEach(v => {\n            const t = (v.email) ? `<a href="mailto:${v.email}" class="font-normal text-stone-700">${v.name}</a>` : v.name;\n            html.users.push(t);\n          });\n        } else {\n          vals.forEach(v => {\n            html.orgs.push(v.name);\n          });\n        }\n\n      });\n      td.html = `users : ${html.users.join(\', \')} <br>organisations : ${html.orgs.join(\', \')}`;\n      return td;\n    },\n\n    project_list: (value, rowIndex, cellIndex, td = {}) => {\n      value = (Array.isArray(value)) ? value : [];\n      let html = [];\n      value.forEach(v => {\n        html.push(`<a href="/gui/prj/about/${v}?" data-action= class="font-normal text-stone-800">${v}</a>`);\n      })\n\n      td.html = html.join(\', \');\n      return td;\n    },\n    license: (value, rowIndex, cellIndex, td = {}) => {\n      td.html = (0,_modules_utils_js__WEBPACK_IMPORTED_MODULE_0__.format_license)(value, true);\n      return td;\n    },\n\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy90YWJsZS1jb2xsZWN0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUU2QjtBQUlTOztBQUV0Qyw2QkFBZSxvQ0FBUztBQUN4QjtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsOERBQU07QUFDbkQ7QUFDQSxnREFBZ0QsOERBQU07QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixjQUFjO0FBQzFDO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw4REFBTTtBQUMvQixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQSxLQUFLO0FBQ0wsZ0RBQWdEO0FBQ2hELDZDQUE2Qyw4REFBTTtBQUNuRDtBQUNBO0FBQ0EsOENBQThDLEVBQUUsR0FBRyxHQUFHLGlGQUFpRixFQUFFLElBQUksRUFBRTtBQUMvSSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCw4Q0FBOEM7QUFDOUMsNkRBQTZELFlBQVksMENBQTBDLFdBQVc7QUFDOUg7QUFDQSxLQUFLO0FBQ0wsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxRQUFRLHVDQUF1QyxPQUFPO0FBQzNHO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBLE9BQU87QUFDUCwyQkFBMkIsdUJBQXVCLHNCQUFzQixxQkFBcUI7QUFDN0Y7QUFDQSxLQUFLOztBQUVMLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsRUFBRSxxREFBcUQsRUFBRTtBQUN0RyxPQUFPOztBQUVQO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaURBQWlEO0FBQ2pELGdCQUFnQixpRUFBYztBQUM5QjtBQUNBLEtBQUs7O0FBRUw7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL3RhYmxlLWNvbGxlY3Rpb24uanM/MWVhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmb3JtYXRfbGljZW5zZVxufSBmcm9tICcuLi9tb2R1bGVzL3V0aWxzLmpzJztcbmltcG9ydCB7XG4gIG1vZGVscyxcbiAgY3NzXG59IGZyb20gJy4uL21vZHVsZXMvbW9kdWxlcy1jb25maWcuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIGNvbnRhY3RfdXNlcjogKHZhbHVlLCByb3dJbmRleCwgY2VsbEluZGV4LCB0ZCA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBhYm91dCA9IChBcnJheS5pc0FycmF5KHZhbHVlKSkgPyBCb29sZWFuKHZhbHVlWzFdKSA6IGZhbHNlO1xuICAgICAgdmFsdWUgPSAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpID8gU3RyaW5nKHZhbHVlWzBdKS50cmltKCkgOiBTdHJpbmcodmFsdWUpLnRyaW0oKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgdmFsdWUgPSBgYDtcbiAgICAgIGxldCBub2RlID0gW107XG4gICAgICAvL2NlbGwgdmFsdWUgaXMgYW4gYXJyYXkgd2l0aCB0aXRsZSBhbmQgIGJvb2xlYW4gd2hpY2ggdGVsbHMgaWYgYWJvdXQgaXMgYXV0aG8gb3Igbm90XG4gICAgICAvLyBkaXNwbGF5IHN0YXRzIGFuZCBpbmZvIGFib3V0IHRoZSBwcm9qZWN0IGlmIG9rXG4gICAgICBjb25zdCBpZCA9IHN0YXRlLmdldENlbGxEYXRhKHJvd0luZGV4LCBtb2RlbHMuaWQpO1xuICAgICAgLy8gY29udGFjdFxuICAgICAgbGV0IGNvbnRhY3QgPSBzdGF0ZS5nZXRDZWxsRGF0YShyb3dJbmRleCwgbW9kZWxzLmNvbnRhY3RfdXNlcik7XG4gICAgICBjb25zdCBpc2NvbnRhY3QgPSAoY29udGFjdCE9PW51bGwpO1xuICAgICAgaWYgKGNvbnRhY3QpIHtcbiAgICAgICAgY29uc3Qgbm9kZWNvbnRhY3QgPSB7XG4gICAgICAgICAgbm9kZW5hbWU6IFwiQVwiLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIGhyZWY6IGBtYWlsdG86JHtjb250YWN0LmVtYWlsfWAsXG4gICAgICAgICAgICBjbGFzczogXCJjb250YWN0XCIsXG4gICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkbm9kZXM6IFtzdGF0ZS5zZXRUZXh0Tm9kZShjb250YWN0Lm5hbWUpXVxuICAgICAgICB9O1xuICAgICAgICBpZiAoaXNjb250YWN0KSBub2RlY29udGFjdC5hdHRyaWJ1dGVzW1wiZGF0YS1jb250YWN0XCJdID0gaXNjb250YWN0O1xuICAgICAgICBub2RlID0gW3N0YXRlLnNldFRleHROb2RlKHZhbHVlKSwgbm9kZWNvbnRhY3RdO1xuICAgICAgfSBlbHNlIG5vZGUgPSBbc3RhdGUuc2V0VGV4dE5vZGUodmFsdWUpXTtcbiAgICAgIGlmIChhYm91dCA9PT0gdHJ1ZSkge1xuICAgICAgICB0ZC5jaGlsZG5vZGVzID0gW3tcbiAgICAgICAgICBub2RlbmFtZTogXCJERVRBSUxTXCIsXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgXCJkYXRhLWlkXCI6IGlkLFxuICAgICAgICAgICAgXCJkYXRhLXdoYXRcIjogbW9kZWxzLmFib3V0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZG5vZGVzOiBbe1xuICAgICAgICAgICAgbm9kZW5hbWU6IFwiU1VNTUFSWVwiLFxuICAgICAgICAgICAgY2hpbGRub2Rlczogbm9kZVxuICAgICAgICAgIH1dXG4gICAgICAgIH1dO1xuICAgICAgfSBlbHNlIHRkLmNoaWxkbm9kZXMgPSBub2RlO1xuICAgICAgcmV0dXJuIHRkO1xuICAgIH0sXG4gICAgc2VsZWN0OiAodmFsdWUsIHJvd0luZGV4LCBjZWxsSW5kZXgsIHRkID0ge30pID0+IHtcbiAgICAgIGNvbnN0IGlkID0gc3RhdGUuZ2V0Q2VsbERhdGEocm93SW5kZXgsIG1vZGVscy5pZCk7XG4gICAgICBjb25zdCBodG1sID0gW107XG4gICAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkuZm9yRWFjaCgoW2ssIHZdKSA9PiB7XG4gICAgICAgIGh0bWwucHVzaChgPGEgaHJlZj1cIi9ndWkvY29sbGVjdGlvbi8ke2t9LyR7aWR9XCIgY2xhc3M9XCJzbWFsbC1jYXBzIHRleHQtc3RvbmUtNTAgcm91bmRlZC1zbSBwLTEgc2hhZG93IGJnLW1haW5ibHVlLTcwMCBidG4gaXMtJHtrfVwiPiR7dn08L2E+YClcbiAgICAgIH0pXG4gICAgICB0ZC5odG1sID0gaHRtbC5qb2luKGBgKTtcbiAgICAgIHJldHVybiB0ZDtcbiAgICB9LFxuICAgIHVzZXI6ICh2YWx1ZSwgcm93SW5kZXgsIGNlbGxJbmRleCwgdGQgPSB7fSkgPT4ge1xuICAgICAgdGQuaHRtbCA9ICh2YWx1ZSkgPyAodmFsdWUuZW1haWwpID8gYDxhIGhyZWY9XCJtYWlsdG86JHt2YWx1ZS5lbWFpbH1cIiBjbGFzcz1cImZvbnQtbm9ybWFsIHRleHQtbWFpbmJsdWUtNzAwXCI+JHt2YWx1ZS5uYW1lfTwvYT5gIDogdmFsdWUubmFtZSA6IGBgO1xuICAgICAgcmV0dXJuIHRkO1xuICAgIH0sXG4gICAgdXNlcl9saXN0OiAodmFsdWUsIHJvd0luZGV4LCBjZWxsSW5kZXgsIHRkID0ge30pID0+IHtcbiAgICAgIGxldCBodG1sID0ge1xuICAgICAgICB1c2VyczogW10sXG4gICAgICAgIG9yZ3M6IFtdXG4gICAgICB9O1xuXG4gICAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkuZm9yRWFjaCgoW2ssIHZhbHNdKSA9PiB7XG4gICAgICAgaWYgKGsuaW5kZXhPZignX3VzZXJzJykgPiAwKSB7XG4gICAgICAgICAgdmFscy5mb3JFYWNoKHYgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9ICh2LmVtYWlsKSA/IGA8YSBocmVmPVwibWFpbHRvOiR7di5lbWFpbH1cIiBjbGFzcz1cImZvbnQtbm9ybWFsIHRleHQtc3RvbmUtNzAwXCI+JHt2Lm5hbWV9PC9hPmAgOiB2Lm5hbWU7XG4gICAgICAgICAgICBodG1sLnVzZXJzLnB1c2godCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFscy5mb3JFYWNoKHYgPT4ge1xuICAgICAgICAgICAgaHRtbC5vcmdzLnB1c2godi5uYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICAgIHRkLmh0bWwgPSBgdXNlcnMgOiAke2h0bWwudXNlcnMuam9pbignLCAnKX0gPGJyPm9yZ2FuaXNhdGlvbnMgOiAke2h0bWwub3Jncy5qb2luKCcsICcpfWA7XG4gICAgICByZXR1cm4gdGQ7XG4gICAgfSxcblxuICAgIHByb2plY3RfbGlzdDogKHZhbHVlLCByb3dJbmRleCwgY2VsbEluZGV4LCB0ZCA9IHt9KSA9PiB7XG4gICAgICB2YWx1ZSA9IChBcnJheS5pc0FycmF5KHZhbHVlKSkgPyB2YWx1ZSA6IFtdO1xuICAgICAgbGV0IGh0bWwgPSBbXTtcbiAgICAgIHZhbHVlLmZvckVhY2godiA9PiB7XG4gICAgICAgIGh0bWwucHVzaChgPGEgaHJlZj1cIi9ndWkvcHJqL2Fib3V0LyR7dn0/XCIgZGF0YS1hY3Rpb249IGNsYXNzPVwiZm9udC1ub3JtYWwgdGV4dC1zdG9uZS04MDBcIj4ke3Z9PC9hPmApO1xuICAgICAgfSlcblxuICAgICAgdGQuaHRtbCA9IGh0bWwuam9pbignLCAnKTtcbiAgICAgIHJldHVybiB0ZDtcbiAgICB9LFxuICAgIGxpY2Vuc2U6ICh2YWx1ZSwgcm93SW5kZXgsIGNlbGxJbmRleCwgdGQgPSB7fSkgPT4ge1xuICAgICAgdGQuaHRtbCA9IGZvcm1hdF9saWNlbnNlKHZhbHVlLCB0cnVlKTtcbiAgICAgIHJldHVybiB0ZDtcbiAgICB9LFxuXG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/table-collection.js\n')}}]);