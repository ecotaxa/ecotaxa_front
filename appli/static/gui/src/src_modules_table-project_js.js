/*! For license information please see src_modules_table-project_js.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_modules_table-project_js"],{"./src/modules/table-project.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   initImport: () => (/* binding */ initImport)\n/* harmony export */ });\n/* harmony import */ var _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/modules-config.js */ "./src/modules/modules-config.js");\n/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! deep-equal */ "./node_modules/deep-equal/index.js");\n/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n_modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.lastused = "last-used";\n_modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.small = "tdsmall";\n\nconst initImport = async (state) => {\n\n  function itemRemove(value, item) {\n    if (state.params.import) {\n      switch (state.params.import) {\n        case _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.typeimport.project:\n          function remove_from_imports(name, value) {\n            const idx = state.dataImport.imports[name].indexOf(value);\n            if (idx > -1) state.dataImport.imports[name].splice(idx, 1);\n          }\n          const selector = state.dom.querySelector(\'[\' + state.dataImport.selector + \'="\' + value + \'"]\');\n          const indextocheck = state.dataImport.indexToCheck();\n\n          if (selector) {\n            const tr = selector.closest(\'tr\');\n            const resets = state.dataImport.resetSelector(tr);\n            selector.parentElement.querySelectorAll(\'button, input\').forEach((el, index) => {\n              this.disableSelector(selector, false);\n              this.toImport(el.parentElement, index, false);\n            });\n          };\n          break;\n      }\n    }\n  }\n  const {\n    DataImport\n  } = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_tom-select_dist_js_plugins_caret_position_js-node_modules_tom-select_dis-6094fa"), __webpack_require__.e("src_modules_form-submit_js"), __webpack_require__.e("src_modules_js-tom-select_js"), __webpack_require__.e("src_modules_project-privileges_js"), __webpack_require__.e("src_modules_data-import_js")]).then(__webpack_require__.bind(__webpack_require__, /*! ../modules/data-import.js */ "./src/modules/data-import.js"));\n  state.dataImport = new DataImport(state);\n  state.importfields = state.grid.columns.filter(column => (column.hasOwnProperty(\'selectcells\')));\n  state.importfields = (state.importfields.length) ? state.importfields[0].selectcells : null;\n  state.dataImport.itemRemove = itemRemove;\n  if (state.params.import && state.params.import === _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.typeimport.project) {\n    const {\n      ImportList\n    } = await __webpack_require__.e(/*! import() */ "src_modules_table-projects-tools_js").then(__webpack_require__.bind(__webpack_require__, /*! ../modules/table-projects-tools.js */ "./src/modules/table-projects-tools.js"));\n    ImportList(state, state.dataImport);\n  }\n  if (state.dataImport.initList) state.dataImport.initList();\n  state.waitdiv.remove();\n}\n\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(state) {\n  // get the css fixed length of progress bar\n  let progressw = 0;\n  if (document.styleSheets && document.styleSheets.length && document.styleSheets[0].cssRules) {\n    Object.values(document.styleSheets[0].cssRules).forEach((rule, i) => {\n      if (rule.selectorText && rule.selectorText.trim() === \'.progress data\') {\n        progressw = rule.style.cssText.split(\';\');\n        progressw.forEach(r => {\n          r = r.split(\':\');\n          if (r[0].trim() === \'max-width\' && r.length > 1) {\n            progressw = parseInt(r[1].trim());\n            return;\n          }\n        });\n      };\n      if (progressw > 0) return;\n    });\n  }\n  progressw = (progressw > 0) ? progressw : 64;\n  state.cellidname = _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.projid;\n\n  state.initImport = initImport;\n  if (state.params.lastused) {\n    const lastused = JSON.parse(state.params.lastused);\n    state.setRowAttributes = (state, tr, id) => {\n      if (id && lastused.indexOf(id) >= 0) {\n        tr.classList.add(_modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.lastused);\n      }\n      return tr;\n    }\n  }\n  return {\n    contact: (value, rowIndex, cellIndex, td = {}) => {\n      const about = (Array.isArray(value)) ? Boolean(value[1]) : false;\n      value = (Array.isArray(value)) ? String(value[0]).trim() : String(value).trim();\n      if (value === null) value = ``;\n      let node = [];\n      //cell value is an array with title and  boolean which tells if about is autho or not\n      // display stats and info about the project if ok\n      const id = state.getCellData(rowIndex, _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.projid);\n      // contact\n      let contact = state.getCellData(rowIndex, _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.contact);\n      let iscontact = false;\n      if (contact === null) {\n        contact = state.getCellData(rowIndex, _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.managers);\n        contact = (contact && contact.length) ? contact[0] : null;\n      } else iscontact = true;\n\n      if (contact) {\n        const nodecontact = {\n          nodename: "A",\n          attributes: {\n            href: `mailto:${contact.email}`,\n            class: "contact",\n            target: "_blank"\n          },\n          childnodes: [state.setTextNode(contact.name)]\n        };\n        if (iscontact) nodecontact.attributes["data-contact"] = iscontact;\n        node = [state.setTextNode(value), nodecontact];\n      } else node = [state.setTextNode(value)];\n      if (about === true) {\n        td.childnodes = [{\n          nodename: "DETAILS",\n          attributes: {\n            "data-id": id,\n            "data-what": _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.about\n          },\n          childnodes: [{\n            nodename: "SUMMARY",\n            childnodes: node\n          }]\n        }];\n      } else td.childnodes = node;\n      return td;\n    },\n    imports: (value, rowIndex, cellIndex, td = {}) => {\n      const id = state.getCellData(rowIndex, _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.projid);\n      const column = state.grid.columns[cellIndex];\n      if (column.hasOwnProperty(\'selectcells\')) {\n        let btns = [],\n          txt = (state.params.btn) ? state.params.btn : \'import\';\n\n        switch (column.what) {\n          case _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.taxo:\n            ((column.parts) ? column.parts : column.selectcells).forEach((v, index) => {\n              let impid = state.getCellData(rowIndex, v);\n              impid = (impid === null || deep_equal__WEBPACK_IMPORTED_MODULE_1___default()(impid, {})) ? ` disabled` : ``;\n              if (index > 0) txt = (state.params.btn1) ? state.params.btn1 : \'extra\';\n              btns.push({\n                nodename: "BUTTON",\n                attributes: {\n                  class: `btn is-preset${impid}`,\n                  type: \'button\'\n                },\n                childnodes: [{\n                  nodename: "I",\n                  attributes: {\n                    class: `icon-md  ${((impid === ``)? `icon-plus-sm`:``)}`,\n                    type: \'button\'\n                  },\n                  childnodes: []\n                }, state.setTextNode(txt)]\n              });\n            });\n            break;\n          case _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.project:\n            btns.push({\n              nodename: "INPUT",\n              attributes: {\n                type: "checkbox",\n                name: `${_modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.project}[]`,\n                class: "form-checkbox",\n                value: id\n              },\n            });\n            break;\n          case _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.settings:\n          case _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.privileges:\n          case _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.fields:\n            btns.push({\n              nodename: "BUTTON",\n              attributes: {\n                class: `btn is-preset`,\n                type: \'button\'\n              },\n              childnodes: [state.setTextNode(txt)]\n            });\n            break;\n        }\n        td.childnodes = btns;\n      } else td.childnodes = [];\n      return td;\n    },\n    controls: (value, rowIndex, cellIndex, td = {}) => {\n      let controls = [];\n      const id = state.getCellData(rowIndex, _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.projid);\n      Object.entries(value).forEach(([key, action]) => {\n        let node = {\n          nodename: "A"\n        };\n        switch (key) {\n          case "A":\n            node.attributes = {\n              class: "btn is-annotate order-1",\n              href: `/prj/${id}`\n            };\n            break;\n          case "V":\n            node.attributes = {\n              class: "btn is-view order-1",\n              href: `/prj/${id}`\n            };\n\n            break;\n          case "M":\n            node.attributes = {\n              class: "btn is-manage order-2",\n              href: `/gui/prj/edit/${id}`\n            };\n            break;\n          case "R":\n            const contact = state.getCellData(rowIndex, _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.models.contact);\n            node.attributes = {\n              class: "btn is-request order-2",\n              href: `mailto:${contact.email}?${id}`\n            };\n            break;\n        }\n\n        node.childnodes = [state.setTextNode(action)];\n        controls.push(node);\n      });\n      td.attributes = (td.hasOwnProperty(\'attributes\')) ? td.attributes : {};\n      td.attributes["class"] = (td.attributes["class"]) ? td.attributes["class"] + " " + _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.component.table.controls : _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.component.table.controls;\n      td.childnodes = controls;\n      return td;\n    },\n    progress: (value, rowIndex, cellIndex, td = {}) => {\n      if (value === null) value = 0;\n      // fixed in px  displays better than %\n      value = (parseInt(value) - parseFloat(value).toFixed(2) == 0) ? parseInt(value) : parseFloat(value).toFixed(2);\n      const pct = parseFloat(value * (progressw / 100)).toFixed(2)\n      const node = {\n        nodename: "DATA",\n        attributes: {\n          style: `width:${pct}px`,\n          "data-w": `${pct}`\n        },\n      }\n\n      td.attributes = (td.hasOwnProperty(\'attributes\')) ? td.attributes : {};\n      td.attributes["class"] = (td.attributes["class"]) ? td.attributes["class"] + " " + _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.progress : _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.progress;\n      td.childnodes = [state.setTextNode(String(value) + \'%\'), node];\n      return td;\n    },\n    access:(value, rowIndex, cellIndex, td = {}) => {\n      const possible_access={"0":"Private","1":"Public","2":"Open"}\n      td.html = possible_access[value];\n      return td;\n    },\n    status: (value, rowIndex, cellIndex, td = {}) => {\n      td.attributes = (td.hasOwnProperty(\'attributes\')) ? td.attributes : {};\n      td.attributes["class"] = (td.attributes["class"]) ? td.attributes["class"] + _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.small : _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.small;\n      td.html = value;\n      return td;\n    },\n    privileges: (value, rowIndex, cellIndex, td = {}) => {\n\n      if (!value || value === ``) td.childnodes = [state.setTextNode(``)];\n      let rights = [];\n      Object.entries(value).forEach(([right, members]) => {\n        let mb = [];\n\n        if (members.length) {\n          members.forEach(member => {\n            mb.push(member.name);\n          });\n          rights.push({\n            nodename: "DIV",\n            attributes: {\n              class: "rights",\n              "data-r": right\n            },\n            childnodes: [state.setTextNode(mb.join(`, `))]\n          });\n        }\n      });\n      td.childnodes = rights;\n      return td;\n    },\n    taxons: (value, rowIndex, cellIndex, td = {}) => {\n      if (value === null) td.childnodes = [state.setTextNode(``)];\n      const num = Object.keys(value).length;\n      if (num > 0) {\n        value = Object.values(value).join(\', \');\n        td.childnodes = [{\n          nodename: "DIV",\n          attributes: {\n            class: _modules_modules_config_js__WEBPACK_IMPORTED_MODULE_0__.css.component.table.tip,\n            "data-num": num\n          },\n          childnodes: [state.setTextNode(value)]\n        }];\n      } else td.childnodes = [state.setTextNode(``)];\n      return td;\n    }\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsSUFBSTtBQUM5Qix1QkFBdUIsSUFBSTtBQUMzQixTQUFTO0FBQ1Q7O0FBRUE7QUFDQSx5RkFBeUYsMkRBQUcsWUFBWSwyREFBRztBQUMzRztBQUNBO0FBQ0EsS0FBSztBQUNMLCtDQUErQztBQUMvQyw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTCxnREFBZ0Q7QUFDaEQ7QUFDQSxtRkFBbUYsMkRBQUcsU0FBUywyREFBRztBQUNsRztBQUNBO0FBQ0EsS0FBSztBQUNMLG9EQUFvRDs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMkRBQUc7QUFDdEI7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL3RhYmxlLXByb2plY3QuanM/YTI2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBtb2RlbHMsXG4gIGNzcyxcbiAgdHlwZWltcG9ydFxufSBmcm9tICcuLi9tb2R1bGVzL21vZHVsZXMtY29uZmlnLmpzJztcblxuaW1wb3J0IGVxdWFsIGZyb20gJ2RlZXAtZXF1YWwnO1xuY3NzLmxhc3R1c2VkID0gXCJsYXN0LXVzZWRcIjtcbmNzcy5zbWFsbCA9IFwidGRzbWFsbFwiO1xuXG5leHBvcnQgY29uc3QgaW5pdEltcG9ydCA9IGFzeW5jIChzdGF0ZSkgPT4ge1xuXG4gIGZ1bmN0aW9uIGl0ZW1SZW1vdmUodmFsdWUsIGl0ZW0pIHtcbiAgICBpZiAoc3RhdGUucGFyYW1zLmltcG9ydCkge1xuICAgICAgc3dpdGNoIChzdGF0ZS5wYXJhbXMuaW1wb3J0KSB7XG4gICAgICAgIGNhc2UgdHlwZWltcG9ydC5wcm9qZWN0OlxuICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZV9mcm9tX2ltcG9ydHMobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IHN0YXRlLmRhdGFJbXBvcnQuaW1wb3J0c1tuYW1lXS5pbmRleE9mKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChpZHggPiAtMSkgc3RhdGUuZGF0YUltcG9ydC5pbXBvcnRzW25hbWVdLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IHN0YXRlLmRvbS5xdWVyeVNlbGVjdG9yKCdbJyArIHN0YXRlLmRhdGFJbXBvcnQuc2VsZWN0b3IgKyAnPVwiJyArIHZhbHVlICsgJ1wiXScpO1xuICAgICAgICAgIGNvbnN0IGluZGV4dG9jaGVjayA9IHN0YXRlLmRhdGFJbXBvcnQuaW5kZXhUb0NoZWNrKCk7XG5cbiAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyID0gc2VsZWN0b3IuY2xvc2VzdCgndHInKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc2V0cyA9IHN0YXRlLmRhdGFJbXBvcnQucmVzZXRTZWxlY3Rvcih0cik7XG4gICAgICAgICAgICBzZWxlY3Rvci5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbiwgaW5wdXQnKS5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlU2VsZWN0b3Ioc2VsZWN0b3IsIGZhbHNlKTtcbiAgICAgICAgICAgICAgdGhpcy50b0ltcG9ydChlbC5wYXJlbnRFbGVtZW50LCBpbmRleCwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3Qge1xuICAgIERhdGFJbXBvcnRcbiAgfSA9IGF3YWl0IGltcG9ydCgnLi4vbW9kdWxlcy9kYXRhLWltcG9ydC5qcycpO1xuICBzdGF0ZS5kYXRhSW1wb3J0ID0gbmV3IERhdGFJbXBvcnQoc3RhdGUpO1xuICBzdGF0ZS5pbXBvcnRmaWVsZHMgPSBzdGF0ZS5ncmlkLmNvbHVtbnMuZmlsdGVyKGNvbHVtbiA9PiAoY29sdW1uLmhhc093blByb3BlcnR5KCdzZWxlY3RjZWxscycpKSk7XG4gIHN0YXRlLmltcG9ydGZpZWxkcyA9IChzdGF0ZS5pbXBvcnRmaWVsZHMubGVuZ3RoKSA/IHN0YXRlLmltcG9ydGZpZWxkc1swXS5zZWxlY3RjZWxscyA6IG51bGw7XG4gIHN0YXRlLmRhdGFJbXBvcnQuaXRlbVJlbW92ZSA9IGl0ZW1SZW1vdmU7XG4gIGlmIChzdGF0ZS5wYXJhbXMuaW1wb3J0ICYmIHN0YXRlLnBhcmFtcy5pbXBvcnQgPT09IHR5cGVpbXBvcnQucHJvamVjdCkge1xuICAgIGNvbnN0IHtcbiAgICAgIEltcG9ydExpc3RcbiAgICB9ID0gYXdhaXQgaW1wb3J0KCcuLi9tb2R1bGVzL3RhYmxlLXByb2plY3RzLXRvb2xzLmpzJyk7XG4gICAgSW1wb3J0TGlzdChzdGF0ZSwgc3RhdGUuZGF0YUltcG9ydCk7XG4gIH1cbiAgaWYgKHN0YXRlLmRhdGFJbXBvcnQuaW5pdExpc3QpIHN0YXRlLmRhdGFJbXBvcnQuaW5pdExpc3QoKTtcbiAgc3RhdGUud2FpdGRpdi5yZW1vdmUoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RhdGUpIHtcbiAgLy8gZ2V0IHRoZSBjc3MgZml4ZWQgbGVuZ3RoIG9mIHByb2dyZXNzIGJhclxuICBsZXQgcHJvZ3Jlc3N3ID0gMDtcbiAgaWYgKGRvY3VtZW50LnN0eWxlU2hlZXRzICYmIGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aCAmJiBkb2N1bWVudC5zdHlsZVNoZWV0c1swXS5jc3NSdWxlcykge1xuICAgIE9iamVjdC52YWx1ZXMoZG9jdW1lbnQuc3R5bGVTaGVldHNbMF0uY3NzUnVsZXMpLmZvckVhY2goKHJ1bGUsIGkpID0+IHtcbiAgICAgIGlmIChydWxlLnNlbGVjdG9yVGV4dCAmJiBydWxlLnNlbGVjdG9yVGV4dC50cmltKCkgPT09ICcucHJvZ3Jlc3MgZGF0YScpIHtcbiAgICAgICAgcHJvZ3Jlc3N3ID0gcnVsZS5zdHlsZS5jc3NUZXh0LnNwbGl0KCc7Jyk7XG4gICAgICAgIHByb2dyZXNzdy5mb3JFYWNoKHIgPT4ge1xuICAgICAgICAgIHIgPSByLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgaWYgKHJbMF0udHJpbSgpID09PSAnbWF4LXdpZHRoJyAmJiByLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHByb2dyZXNzdyA9IHBhcnNlSW50KHJbMV0udHJpbSgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGlmIChwcm9ncmVzc3cgPiAwKSByZXR1cm47XG4gICAgfSk7XG4gIH1cbiAgcHJvZ3Jlc3N3ID0gKHByb2dyZXNzdyA+IDApID8gcHJvZ3Jlc3N3IDogNjQ7XG4gIHN0YXRlLmNlbGxpZG5hbWUgPSBtb2RlbHMucHJvamlkO1xuXG4gIHN0YXRlLmluaXRJbXBvcnQgPSBpbml0SW1wb3J0O1xuICBpZiAoc3RhdGUucGFyYW1zLmxhc3R1c2VkKSB7XG4gICAgY29uc3QgbGFzdHVzZWQgPSBKU09OLnBhcnNlKHN0YXRlLnBhcmFtcy5sYXN0dXNlZCk7XG4gICAgc3RhdGUuc2V0Um93QXR0cmlidXRlcyA9IChzdGF0ZSwgdHIsIGlkKSA9PiB7XG4gICAgICBpZiAoaWQgJiYgbGFzdHVzZWQuaW5kZXhPZihpZCkgPj0gMCkge1xuICAgICAgICB0ci5jbGFzc0xpc3QuYWRkKGNzcy5sYXN0dXNlZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHI7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgY29udGFjdDogKHZhbHVlLCByb3dJbmRleCwgY2VsbEluZGV4LCB0ZCA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBhYm91dCA9IChBcnJheS5pc0FycmF5KHZhbHVlKSkgPyBCb29sZWFuKHZhbHVlWzFdKSA6IGZhbHNlO1xuICAgICAgdmFsdWUgPSAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpID8gU3RyaW5nKHZhbHVlWzBdKS50cmltKCkgOiBTdHJpbmcodmFsdWUpLnRyaW0oKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgdmFsdWUgPSBgYDtcbiAgICAgIGxldCBub2RlID0gW107XG4gICAgICAvL2NlbGwgdmFsdWUgaXMgYW4gYXJyYXkgd2l0aCB0aXRsZSBhbmQgIGJvb2xlYW4gd2hpY2ggdGVsbHMgaWYgYWJvdXQgaXMgYXV0aG8gb3Igbm90XG4gICAgICAvLyBkaXNwbGF5IHN0YXRzIGFuZCBpbmZvIGFib3V0IHRoZSBwcm9qZWN0IGlmIG9rXG4gICAgICBjb25zdCBpZCA9IHN0YXRlLmdldENlbGxEYXRhKHJvd0luZGV4LCBtb2RlbHMucHJvamlkKTtcbiAgICAgIC8vIGNvbnRhY3RcbiAgICAgIGxldCBjb250YWN0ID0gc3RhdGUuZ2V0Q2VsbERhdGEocm93SW5kZXgsIG1vZGVscy5jb250YWN0KTtcbiAgICAgIGxldCBpc2NvbnRhY3QgPSBmYWxzZTtcbiAgICAgIGlmIChjb250YWN0ID09PSBudWxsKSB7XG4gICAgICAgIGNvbnRhY3QgPSBzdGF0ZS5nZXRDZWxsRGF0YShyb3dJbmRleCwgbW9kZWxzLm1hbmFnZXJzKTtcbiAgICAgICAgY29udGFjdCA9IChjb250YWN0ICYmIGNvbnRhY3QubGVuZ3RoKSA/IGNvbnRhY3RbMF0gOiBudWxsO1xuICAgICAgfSBlbHNlIGlzY29udGFjdCA9IHRydWU7XG5cbiAgICAgIGlmIChjb250YWN0KSB7XG4gICAgICAgIGNvbnN0IG5vZGVjb250YWN0ID0ge1xuICAgICAgICAgIG5vZGVuYW1lOiBcIkFcIixcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICBocmVmOiBgbWFpbHRvOiR7Y29udGFjdC5lbWFpbH1gLFxuICAgICAgICAgICAgY2xhc3M6IFwiY29udGFjdFwiLFxuICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZG5vZGVzOiBbc3RhdGUuc2V0VGV4dE5vZGUoY29udGFjdC5uYW1lKV1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlzY29udGFjdCkgbm9kZWNvbnRhY3QuYXR0cmlidXRlc1tcImRhdGEtY29udGFjdFwiXSA9IGlzY29udGFjdDtcbiAgICAgICAgbm9kZSA9IFtzdGF0ZS5zZXRUZXh0Tm9kZSh2YWx1ZSksIG5vZGVjb250YWN0XTtcbiAgICAgIH0gZWxzZSBub2RlID0gW3N0YXRlLnNldFRleHROb2RlKHZhbHVlKV07XG4gICAgICBpZiAoYWJvdXQgPT09IHRydWUpIHtcbiAgICAgICAgdGQuY2hpbGRub2RlcyA9IFt7XG4gICAgICAgICAgbm9kZW5hbWU6IFwiREVUQUlMU1wiLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIFwiZGF0YS1pZFwiOiBpZCxcbiAgICAgICAgICAgIFwiZGF0YS13aGF0XCI6IG1vZGVscy5hYm91dFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hpbGRub2RlczogW3tcbiAgICAgICAgICAgIG5vZGVuYW1lOiBcIlNVTU1BUllcIixcbiAgICAgICAgICAgIGNoaWxkbm9kZXM6IG5vZGVcbiAgICAgICAgICB9XVxuICAgICAgICB9XTtcbiAgICAgIH0gZWxzZSB0ZC5jaGlsZG5vZGVzID0gbm9kZTtcbiAgICAgIHJldHVybiB0ZDtcbiAgICB9LFxuICAgIGltcG9ydHM6ICh2YWx1ZSwgcm93SW5kZXgsIGNlbGxJbmRleCwgdGQgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBzdGF0ZS5nZXRDZWxsRGF0YShyb3dJbmRleCwgbW9kZWxzLnByb2ppZCk7XG4gICAgICBjb25zdCBjb2x1bW4gPSBzdGF0ZS5ncmlkLmNvbHVtbnNbY2VsbEluZGV4XTtcbiAgICAgIGlmIChjb2x1bW4uaGFzT3duUHJvcGVydHkoJ3NlbGVjdGNlbGxzJykpIHtcbiAgICAgICAgbGV0IGJ0bnMgPSBbXSxcbiAgICAgICAgICB0eHQgPSAoc3RhdGUucGFyYW1zLmJ0bikgPyBzdGF0ZS5wYXJhbXMuYnRuIDogJ2ltcG9ydCc7XG5cbiAgICAgICAgc3dpdGNoIChjb2x1bW4ud2hhdCkge1xuICAgICAgICAgIGNhc2UgbW9kZWxzLnRheG86XG4gICAgICAgICAgICAoKGNvbHVtbi5wYXJ0cykgPyBjb2x1bW4ucGFydHMgOiBjb2x1bW4uc2VsZWN0Y2VsbHMpLmZvckVhY2goKHYsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGxldCBpbXBpZCA9IHN0YXRlLmdldENlbGxEYXRhKHJvd0luZGV4LCB2KTtcbiAgICAgICAgICAgICAgaW1waWQgPSAoaW1waWQgPT09IG51bGwgfHwgZXF1YWwoaW1waWQsIHt9KSkgPyBgIGRpc2FibGVkYCA6IGBgO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB0eHQgPSAoc3RhdGUucGFyYW1zLmJ0bjEpID8gc3RhdGUucGFyYW1zLmJ0bjEgOiAnZXh0cmEnO1xuICAgICAgICAgICAgICBidG5zLnB1c2goe1xuICAgICAgICAgICAgICAgIG5vZGVuYW1lOiBcIkJVVFRPTlwiLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzOiBgYnRuIGlzLXByZXNldCR7aW1waWR9YCxcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjaGlsZG5vZGVzOiBbe1xuICAgICAgICAgICAgICAgICAgbm9kZW5hbWU6IFwiSVwiLFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICBjbGFzczogYGljb24tbWQgICR7KChpbXBpZCA9PT0gYGApPyBgaWNvbi1wbHVzLXNtYDpgYCl9YCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbidcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBjaGlsZG5vZGVzOiBbXVxuICAgICAgICAgICAgICAgIH0sIHN0YXRlLnNldFRleHROb2RlKHR4dCldXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIG1vZGVscy5wcm9qZWN0OlxuICAgICAgICAgICAgYnRucy5wdXNoKHtcbiAgICAgICAgICAgICAgbm9kZW5hbWU6IFwiSU5QVVRcIixcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBuYW1lOiBgJHttb2RlbHMucHJvamVjdH1bXWAsXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiZm9ybS1jaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBpZFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIG1vZGVscy5zZXR0aW5nczpcbiAgICAgICAgICBjYXNlIG1vZGVscy5wcml2aWxlZ2VzOlxuICAgICAgICAgIGNhc2UgbW9kZWxzLmZpZWxkczpcbiAgICAgICAgICAgIGJ0bnMucHVzaCh7XG4gICAgICAgICAgICAgIG5vZGVuYW1lOiBcIkJVVFRPTlwiLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IGBidG4gaXMtcHJlc2V0YCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjaGlsZG5vZGVzOiBbc3RhdGUuc2V0VGV4dE5vZGUodHh0KV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGQuY2hpbGRub2RlcyA9IGJ0bnM7XG4gICAgICB9IGVsc2UgdGQuY2hpbGRub2RlcyA9IFtdO1xuICAgICAgcmV0dXJuIHRkO1xuICAgIH0sXG4gICAgY29udHJvbHM6ICh2YWx1ZSwgcm93SW5kZXgsIGNlbGxJbmRleCwgdGQgPSB7fSkgPT4ge1xuICAgICAgbGV0IGNvbnRyb2xzID0gW107XG4gICAgICBjb25zdCBpZCA9IHN0YXRlLmdldENlbGxEYXRhKHJvd0luZGV4LCBtb2RlbHMucHJvamlkKTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5mb3JFYWNoKChba2V5LCBhY3Rpb25dKSA9PiB7XG4gICAgICAgIGxldCBub2RlID0ge1xuICAgICAgICAgIG5vZGVuYW1lOiBcIkFcIlxuICAgICAgICB9O1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgIGNhc2UgXCJBXCI6XG4gICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICAgIGNsYXNzOiBcImJ0biBpcy1hbm5vdGF0ZSBvcmRlci0xXCIsXG4gICAgICAgICAgICAgIGhyZWY6IGAvcHJqLyR7aWR9YFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJWXCI6XG4gICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICAgIGNsYXNzOiBcImJ0biBpcy12aWV3IG9yZGVyLTFcIixcbiAgICAgICAgICAgICAgaHJlZjogYC9wcmovJHtpZH1gXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgICBjbGFzczogXCJidG4gaXMtbWFuYWdlIG9yZGVyLTJcIixcbiAgICAgICAgICAgICAgaHJlZjogYC9ndWkvcHJqL2VkaXQvJHtpZH1gXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIlJcIjpcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhY3QgPSBzdGF0ZS5nZXRDZWxsRGF0YShyb3dJbmRleCwgbW9kZWxzLmNvbnRhY3QpO1xuICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgICBjbGFzczogXCJidG4gaXMtcmVxdWVzdCBvcmRlci0yXCIsXG4gICAgICAgICAgICAgIGhyZWY6IGBtYWlsdG86JHtjb250YWN0LmVtYWlsfT8ke2lkfWBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUuY2hpbGRub2RlcyA9IFtzdGF0ZS5zZXRUZXh0Tm9kZShhY3Rpb24pXTtcbiAgICAgICAgY29udHJvbHMucHVzaChub2RlKTtcbiAgICAgIH0pO1xuICAgICAgdGQuYXR0cmlidXRlcyA9ICh0ZC5oYXNPd25Qcm9wZXJ0eSgnYXR0cmlidXRlcycpKSA/IHRkLmF0dHJpYnV0ZXMgOiB7fTtcbiAgICAgIHRkLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSA9ICh0ZC5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0pID8gdGQuYXR0cmlidXRlc1tcImNsYXNzXCJdICsgXCIgXCIgKyBjc3MuY29tcG9uZW50LnRhYmxlLmNvbnRyb2xzIDogY3NzLmNvbXBvbmVudC50YWJsZS5jb250cm9scztcbiAgICAgIHRkLmNoaWxkbm9kZXMgPSBjb250cm9scztcbiAgICAgIHJldHVybiB0ZDtcbiAgICB9LFxuICAgIHByb2dyZXNzOiAodmFsdWUsIHJvd0luZGV4LCBjZWxsSW5kZXgsIHRkID0ge30pID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgdmFsdWUgPSAwO1xuICAgICAgLy8gZml4ZWQgaW4gcHggIGRpc3BsYXlzIGJldHRlciB0aGFuICVcbiAgICAgIHZhbHVlID0gKHBhcnNlSW50KHZhbHVlKSAtIHBhcnNlRmxvYXQodmFsdWUpLnRvRml4ZWQoMikgPT0gMCkgPyBwYXJzZUludCh2YWx1ZSkgOiBwYXJzZUZsb2F0KHZhbHVlKS50b0ZpeGVkKDIpO1xuICAgICAgY29uc3QgcGN0ID0gcGFyc2VGbG9hdCh2YWx1ZSAqIChwcm9ncmVzc3cgLyAxMDApKS50b0ZpeGVkKDIpXG4gICAgICBjb25zdCBub2RlID0ge1xuICAgICAgICBub2RlbmFtZTogXCJEQVRBXCIsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICBzdHlsZTogYHdpZHRoOiR7cGN0fXB4YCxcbiAgICAgICAgICBcImRhdGEtd1wiOiBgJHtwY3R9YFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgICB0ZC5hdHRyaWJ1dGVzID0gKHRkLmhhc093blByb3BlcnR5KCdhdHRyaWJ1dGVzJykpID8gdGQuYXR0cmlidXRlcyA6IHt9O1xuICAgICAgdGQuYXR0cmlidXRlc1tcImNsYXNzXCJdID0gKHRkLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSkgPyB0ZC5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0gKyBcIiBcIiArIGNzcy5wcm9ncmVzcyA6IGNzcy5wcm9ncmVzcztcbiAgICAgIHRkLmNoaWxkbm9kZXMgPSBbc3RhdGUuc2V0VGV4dE5vZGUoU3RyaW5nKHZhbHVlKSArICclJyksIG5vZGVdO1xuICAgICAgcmV0dXJuIHRkO1xuICAgIH0sXG4gICAgYWNjZXNzOih2YWx1ZSwgcm93SW5kZXgsIGNlbGxJbmRleCwgdGQgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgcG9zc2libGVfYWNjZXNzPXtcIjBcIjpcIlByaXZhdGVcIixcIjFcIjpcIlB1YmxpY1wiLFwiMlwiOlwiT3BlblwifVxuICAgICAgdGQuaHRtbCA9IHBvc3NpYmxlX2FjY2Vzc1t2YWx1ZV07XG4gICAgICByZXR1cm4gdGQ7XG4gICAgfSxcbiAgICBzdGF0dXM6ICh2YWx1ZSwgcm93SW5kZXgsIGNlbGxJbmRleCwgdGQgPSB7fSkgPT4ge1xuICAgICAgdGQuYXR0cmlidXRlcyA9ICh0ZC5oYXNPd25Qcm9wZXJ0eSgnYXR0cmlidXRlcycpKSA/IHRkLmF0dHJpYnV0ZXMgOiB7fTtcbiAgICAgIHRkLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSA9ICh0ZC5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0pID8gdGQuYXR0cmlidXRlc1tcImNsYXNzXCJdICsgY3NzLnNtYWxsIDogY3NzLnNtYWxsO1xuICAgICAgdGQuaHRtbCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRkO1xuICAgIH0sXG4gICAgcHJpdmlsZWdlczogKHZhbHVlLCByb3dJbmRleCwgY2VsbEluZGV4LCB0ZCA9IHt9KSA9PiB7XG5cbiAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09IGBgKSB0ZC5jaGlsZG5vZGVzID0gW3N0YXRlLnNldFRleHROb2RlKGBgKV07XG4gICAgICBsZXQgcmlnaHRzID0gW107XG4gICAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkuZm9yRWFjaCgoW3JpZ2h0LCBtZW1iZXJzXSkgPT4ge1xuICAgICAgICBsZXQgbWIgPSBbXTtcblxuICAgICAgICBpZiAobWVtYmVycy5sZW5ndGgpIHtcbiAgICAgICAgICBtZW1iZXJzLmZvckVhY2gobWVtYmVyID0+IHtcbiAgICAgICAgICAgIG1iLnB1c2gobWVtYmVyLm5hbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJpZ2h0cy5wdXNoKHtcbiAgICAgICAgICAgIG5vZGVuYW1lOiBcIkRJVlwiLFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICBjbGFzczogXCJyaWdodHNcIixcbiAgICAgICAgICAgICAgXCJkYXRhLXJcIjogcmlnaHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZG5vZGVzOiBbc3RhdGUuc2V0VGV4dE5vZGUobWIuam9pbihgLCBgKSldXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGQuY2hpbGRub2RlcyA9IHJpZ2h0cztcbiAgICAgIHJldHVybiB0ZDtcbiAgICB9LFxuICAgIHRheG9uczogKHZhbHVlLCByb3dJbmRleCwgY2VsbEluZGV4LCB0ZCA9IHt9KSA9PiB7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwpIHRkLmNoaWxkbm9kZXMgPSBbc3RhdGUuc2V0VGV4dE5vZGUoYGApXTtcbiAgICAgIGNvbnN0IG51bSA9IE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGg7XG4gICAgICBpZiAobnVtID4gMCkge1xuICAgICAgICB2YWx1ZSA9IE9iamVjdC52YWx1ZXModmFsdWUpLmpvaW4oJywgJyk7XG4gICAgICAgIHRkLmNoaWxkbm9kZXMgPSBbe1xuICAgICAgICAgIG5vZGVuYW1lOiBcIkRJVlwiLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIGNsYXNzOiBjc3MuY29tcG9uZW50LnRhYmxlLnRpcCxcbiAgICAgICAgICAgIFwiZGF0YS1udW1cIjogbnVtXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZG5vZGVzOiBbc3RhdGUuc2V0VGV4dE5vZGUodmFsdWUpXVxuICAgICAgICB9XTtcbiAgICAgIH0gZWxzZSB0ZC5jaGlsZG5vZGVzID0gW3N0YXRlLnNldFRleHROb2RlKGBgKV07XG4gICAgICByZXR1cm4gdGQ7XG4gICAgfVxuICB9XG5cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/table-project.js\n')}}]);