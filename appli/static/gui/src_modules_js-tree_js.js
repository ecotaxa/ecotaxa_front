/*! For license information please see src_modules_js-tree_js.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([["src_modules_js-tree_js"],{"./node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/postcss-loader/dist/cjs.js!./src/css/js-tree.css":()=>{eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0udXNlWzFdIS4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0udXNlWzJdIS4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3JjL2Nzcy9qcy10cmVlLmNzcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jc3MvanMtdHJlZS5jc3M/MjNmNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/postcss-loader/dist/cjs.js!./src/css/js-tree.css\n")},"./src/css/js-tree.css":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ruleSet_1_rules_2_use_1_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_node_modules_postcss_loader_dist_cjs_js_js_tree_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!../../node_modules/postcss-loader/dist/cjs.js!./js-tree.css */ "./node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./node_modules/postcss-loader/dist/cjs.js!./src/css/js-tree.css");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ruleSet_1_rules_2_use_1_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_node_modules_postcss_loader_dist_cjs_js_js_tree_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ruleSet_1_rules_2_use_1_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_node_modules_postcss_loader_dist_cjs_js_js_tree_css__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_mini_css_extract_plugin_dist_loader_js_ruleSet_1_rules_2_use_1_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_node_modules_postcss_loader_dist_cjs_js_js_tree_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_mini_css_extract_plugin_dist_loader_js_ruleSet_1_rules_2_use_1_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_node_modules_postcss_loader_dist_cjs_js_js_tree_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_mini_css_extract_plugin_dist_loader_js_ruleSet_1_rules_2_use_1_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_node_modules_postcss_loader_dist_cjs_js_js_tree_css__WEBPACK_IMPORTED_MODULE_6___default()), options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_mini_css_extract_plugin_dist_loader_js_ruleSet_1_rules_2_use_1_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_node_modules_postcss_loader_dist_cjs_js_js_tree_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_mini_css_extract_plugin_dist_loader_js_ruleSet_1_rules_2_use_1_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_node_modules_postcss_loader_dist_cjs_js_js_tree_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_mini_css_extract_plugin_dist_loader_js_ruleSet_1_rules_2_use_1_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_node_modules_postcss_loader_dist_cjs_js_js_tree_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY3NzL2pzLXRyZWUuY3NzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxNQUFrRztBQUNsRyxNQUF3RjtBQUN4RixNQUErRjtBQUMvRixNQUFrSDtBQUNsSCxNQUEyRztBQUMzRyxNQUEyRztBQUMzRyxNQUF3UTtBQUN4UTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QixxR0FBbUI7QUFDL0Msd0JBQXdCLGtIQUFhOztBQUVyQyx1QkFBdUIsdUdBQWE7QUFDcEM7QUFDQSxpQkFBaUIsK0ZBQU07QUFDdkIsNkJBQTZCLHNHQUFrQjs7QUFFL0MsYUFBYSwwR0FBRyxDQUFDLHFPQUFPOzs7O0FBSWtOO0FBQzFPLE9BQU8saUVBQWUscU9BQU8sSUFBSSw0T0FBYyxHQUFHLDRPQUFjLFlBQVksRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jc3MvanMtdHJlZS5jc3M/NGIzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS51c2VbMV0hLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0udXNlWzJdIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2pzLXRyZWUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdLnVzZVsxXSEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS51c2VbMl0hLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vanMtdHJlZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/css/js-tree.css\n')},"./src/modules/js-tree.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JSONTree: () => (/* binding */ JSONTree)\n/* harmony export */ });\n/* harmony import */ var _css_js_tree_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../css/js-tree.css */ \"./src/css/js-tree.css\");\n/*from https://github.com/lunu-bounir/tree.js/blob/master/tree.js*/\n\n\nconst Emitter = typeof window.Emitter === 'undefined' ? class Emitter {\n  constructor() {\n    this.events = {};\n  }\n  on(name, callback) {\n    this.events[name] = this.events[name] || [];\n    this.events[name].push(callback);\n  }\n  once(name, callback) {\n    callback.once = true;\n    this.on(name, callback);\n  }\n  emit(name, ...data) {\n    if (this.events[name] === undefined) {\n      return;\n    }\n    for (const c of [...this.events[name]]) {\n      c(...data);\n      if (c.once) {\n        const index = this.events[name].indexOf(c);\n        this.events[name].splice(index, 1);\n      }\n    }\n\n\n  }\n} : window.Emitter;\n\nclass SimpleTree extends Emitter {\n  constructor(parent, properties = {}) {\n    super();\n    // do not toggle with click\n    parent.addEventListener('click', e => {\n      // e.clientX to prevent stopping Enter key\n      // e.detail to prevent dbl-click\n      // e.offsetX to allow plus and minus clicking\n      if (e && e.clientX && e.detail === 1 && e.offsetX >= 0) {\n        return e.preventDefault();\n      }\n      const active = this.active();\n\n      if (active && active.dataset.type === SimpleTree.FILE) {\n        e.preventDefault();\n        this.emit('action', active);\n        if (properties['no-focus-on-action'] === true) {\n          window.clearTimeout(this.id);\n        }\n      }\n    });\n    parent.classList.add('simple-tree');\n    if (properties.dark) {\n      parent.classList.add('dark');\n    }\n    this.parent = parent.appendChild(document.createElement('details'));\n    this.parent.appendChild(document.createElement('summary'));\n    this.parent.open = true;\n    // use this function to alter a node before being passed to this.file or this.folder\n    this.interrupt = node => node;\n  }\n  append(element, parent, before, callback = () => {}) {\n    if (before) {\n      parent.insertBefore(element, before);\n    } else {\n      parent.appendChild(element);\n    }\n    callback();\n    return element;\n  }\n  remove(element) {\n    if (element.dataset.type === SimpleTree.FILE) {\n      element.remove();\n    } else {\n      const parent = element.closest('details');\n      parent.remove();\n    }\n    this.emit('removed', element);\n  }\n  file(node, parent = this.parent, before) {\n    parent = parent.closest('details');\n    node = this.interrupt(node);\n    const a = this.append(Object.assign(document.createElement('a'), {\n      textContent: node.name,\n      href: '#',\n      id: node.id,\n    }), parent, before);\n\n    a.dataset.type = SimpleTree.FILE;\n    this.emit('created', a, node);\n    return a;\n  }\n  folder(node, parent = this.parent, before) {\n    parent = parent.closest('details');\n    node = this.interrupt(node);\n    const details = document.createElement('details');\n    const summary = Object.assign(document.createElement('summary'), {\n      textContent: node.name\n    });\n    details.appendChild(summary);\n    this.append(details, parent, before, () => {\n      details.open = node.open;\n      details.dataset.type = SimpleTree.FOLDER;\n    });\n    this.emit('created', summary, node);\n    return summary;\n  }\n  open(details) {\n    details.open = true;\n  }\n  hierarchy(element = this.active()) {\n    if (this.parent.contains(element)) {\n      const list = [];\n      while (element !== this.parent) {\n        if (element.dataset.type === SimpleTree.FILE) {\n          list.push(element);\n        } else if (element.dataset.type === SimpleTree.FOLDER) {\n          list.push(element.querySelector('summary'));\n        }\n        element = element.parentElement;\n      }\n      return list;\n    } else {\n      return [];\n    }\n  }\n  // This method takes an element as an argument and return the full path of it with a custom separator\n  getPath(element, separator = '/') {\n    const nodes = this.hierarchy(element);\n\n    return nodes.map(n => n.textContent).reverse().join(separator);\n  }\n  siblings(element = this.parent.querySelector('a, details')) {\n    if (this.parent.contains(element)) {\n      if (element.dataset.type === undefined) {\n        element = element.parentElement;\n      }\n      return [...element.parentElement.children].filter(e => {\n        return e.dataset.type === SimpleTree.FILE || e.dataset.type === SimpleTree.FOLDER;\n      }).map(e => {\n        if (e.dataset.type === SimpleTree.FILE) {\n          return e;\n        } else {\n          return e.querySelector('summary');\n        }\n      });\n    } else {\n      return [];\n    }\n  }\n  children(details) {\n    const e = details.querySelector('a, details');\n    if (e) {\n      return this.siblings(e);\n    } else {\n      return [];\n    }\n  }\n}\nSimpleTree.FILE = 'file';\nSimpleTree.FOLDER = 'folder';\n\nclass AsyncTree extends SimpleTree {\n  constructor(parent, options) {\n    super(parent, options);\n    // do not allow toggling when folder is loading\n    parent.addEventListener('click', e => {\n      const details = e.target.parentElement;\n      if (details.open && details.dataset.loaded === 'false') {\n        e.preventDefault();\n      }\n    });\n    parent.classList.add('async-tree');\n  }\n  // add open event for folder creation\n  folder(...args) {\n    const summary = super.folder(...args);\n    const details = summary.closest('details');\n    details.addEventListener('toggle', e => {\n      this.emit(details.dataset.loaded === 'false' && details.open ? 'fetch' : 'open', summary, args[0]);\n    });\n    summary.resolve = () => {\n      details.dataset.loaded = true;\n      this.emit('open', summary);\n    };\n    return summary;\n  }\n  asyncFolder(node, parent, before) {\n    const summary = this.folder(node, parent, before);\n    const details = summary.closest('details');\n    details.dataset.loaded = false;\n    if (node.open) {\n      this.open(details);\n    }\n    return summary;\n  }\n  unloadFolder(summary) {\n    const details = summary.closest('details');\n    details.open = false;\n    const focused = this.active();\n    if (focused && this.parent.contains(focused)) {\n      this.select(details);\n    }\n    [...details.children].slice(1).forEach(e => e.remove());\n    details.dataset.loaded = false;\n  }\n  browse(validate, es = this.siblings()) {\n    for (const e of es) {\n      if (validate(e)) {\n        this.select(e);\n        if (e.dataset.type === SimpleTree.FILE) {\n          return this.emit('browse', e);\n        }\n        const parent = e.closest('details');\n        if (parent.open) {\n          return this.browse(validate, this.children(parent));\n        } else {\n          window.setTimeout(() => {\n            this.once('open', () => this.browse(validate, this.children(parent)));\n            this.open(parent);\n          }, 0);\n          return;\n        }\n      }\n    }\n    this.emit('browse', false);\n  }\n}\n\nclass SelectTree extends AsyncTree {\n  constructor(parent, options = {}) {\n    super(parent, options);\n    /* multiple clicks outside of elements */\n    parent.addEventListener('click', e => {\n      if (e.detail > 1) {\n        const active = this.active();\n        if (active && active !== e.target) {\n          if (e.target.tagName === 'A' || e.target.tagName === 'SUMMARY') {\n            return this.select(e.target, 'click');\n          }\n        }\n        if (active) {\n          this.focus(active);\n        }\n      }\n    });\n    window.addEventListener('focus', () => {\n      const active = this.active();\n      if (active) {\n        this.focus(active);\n      }\n    });\n    parent.addEventListener('focusin', e => {\n      const active = this.active();\n      if (active !== e.target) {\n        this.select(e.target, 'focus');\n      }\n    });\n    this.on('created', (element, node) => {\n\n      if (node.selected) {\n        this.select(element);\n      }\n    });\n\n    parent.classList.add('select-tree');\n    // navigate\n    if (options.navigate) {\n      this.parent.addEventListener('keydown', e => {\n        const {\n          code\n        } = e;\n        if (code === 'ArrowUp' || code === 'ArrowDown') {\n          this.navigate(code === 'ArrowUp' ? 'backward' : 'forward');\n          e.preventDefault();\n        }\n      });\n    }\n  }\n  focus(target) {\n    window.clearTimeout(this.id);\n    this.id = window.setTimeout(() => document.hasFocus() && target.focus(), 100);\n  }\n  select(target) {\n    const summary = target.querySelector('summary');\n    if (summary) {\n      target = summary;\n    }\n    [...this.parent.querySelectorAll('.selected')].forEach(e => e.classList.remove('selected'));\n    target.classList.add('selected');\n    this.focus(target);\n    this.emit('select', target);\n  }\n  active() {\n    return this.parent.querySelector('.selected');\n  }\n  navigate(direction = 'forward') {\n    const e = this.active();\n    if (e) {\n      const list = [...this.parent.querySelectorAll('a, summary')];\n      const index = list.indexOf(e);\n      const candidates = direction === 'forward' ? list.slice(index + 1) : list.slice(0, index).reverse();\n      for (const m of candidates) {\n        if (m.getBoundingClientRect().height) {\n          return this.select(m);\n        }\n      }\n    }\n  }\n}\n\nclass JSONTree extends SelectTree {\n  json(array, parent) {\n    if (typeof(array) === 'boolean') return;\n    array.forEach(item => {\n\n      if (item.type === SimpleTree.FOLDER || item.children === true) {\n        const folder = this[(item.asynced || item.children === true) ? 'asyncFolder' : 'folder'](item, parent);\n        if (item.children) {\n          this.json(item.children, folder);\n        }\n      } else {\n        this.file(item, parent);\n      }\n    });\n\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kdWxlcy9qcy10cmVlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDYTtBQUM0QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvanMtdHJlZS5qcz81ODQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbHVudS1ib3VuaXIvdHJlZS5qcy9ibG9iL21hc3Rlci90cmVlLmpzKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB0cmVlY3NzIGZyb20gXCIuLi9jc3MvanMtdHJlZS5jc3NcIjtcbmNvbnN0IEVtaXR0ZXIgPSB0eXBlb2Ygd2luZG93LkVtaXR0ZXIgPT09ICd1bmRlZmluZWQnID8gY2xhc3MgRW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZXZlbnRzID0ge307XG4gIH1cbiAgb24obmFtZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmV2ZW50c1tuYW1lXSA9IHRoaXMuZXZlbnRzW25hbWVdIHx8IFtdO1xuICAgIHRoaXMuZXZlbnRzW25hbWVdLnB1c2goY2FsbGJhY2spO1xuICB9XG4gIG9uY2UobmFtZSwgY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjay5vbmNlID0gdHJ1ZTtcbiAgICB0aGlzLm9uKG5hbWUsIGNhbGxiYWNrKTtcbiAgfVxuICBlbWl0KG5hbWUsIC4uLmRhdGEpIHtcbiAgICBpZiAodGhpcy5ldmVudHNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGMgb2YgWy4uLnRoaXMuZXZlbnRzW25hbWVdXSkge1xuICAgICAgYyguLi5kYXRhKTtcbiAgICAgIGlmIChjLm9uY2UpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmV2ZW50c1tuYW1lXS5pbmRleE9mKGMpO1xuICAgICAgICB0aGlzLmV2ZW50c1tuYW1lXS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuXG4gIH1cbn0gOiB3aW5kb3cuRW1pdHRlcjtcblxuY2xhc3MgU2ltcGxlVHJlZSBleHRlbmRzIEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIHByb3BlcnRpZXMgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgLy8gZG8gbm90IHRvZ2dsZSB3aXRoIGNsaWNrXG4gICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAvLyBlLmNsaWVudFggdG8gcHJldmVudCBzdG9wcGluZyBFbnRlciBrZXlcbiAgICAgIC8vIGUuZGV0YWlsIHRvIHByZXZlbnQgZGJsLWNsaWNrXG4gICAgICAvLyBlLm9mZnNldFggdG8gYWxsb3cgcGx1cyBhbmQgbWludXMgY2xpY2tpbmdcbiAgICAgIGlmIChlICYmIGUuY2xpZW50WCAmJiBlLmRldGFpbCA9PT0gMSAmJiBlLm9mZnNldFggPj0gMCkge1xuICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgYWN0aXZlID0gdGhpcy5hY3RpdmUoKTtcblxuICAgICAgaWYgKGFjdGl2ZSAmJiBhY3RpdmUuZGF0YXNldC50eXBlID09PSBTaW1wbGVUcmVlLkZJTEUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmVtaXQoJ2FjdGlvbicsIGFjdGl2ZSk7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzWyduby1mb2N1cy1vbi1hY3Rpb24nXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnc2ltcGxlLXRyZWUnKTtcbiAgICBpZiAocHJvcGVydGllcy5kYXJrKSB7XG4gICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xuICAgIH1cbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkZXRhaWxzJykpO1xuICAgIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N1bW1hcnknKSk7XG4gICAgdGhpcy5wYXJlbnQub3BlbiA9IHRydWU7XG4gICAgLy8gdXNlIHRoaXMgZnVuY3Rpb24gdG8gYWx0ZXIgYSBub2RlIGJlZm9yZSBiZWluZyBwYXNzZWQgdG8gdGhpcy5maWxlIG9yIHRoaXMuZm9sZGVyXG4gICAgdGhpcy5pbnRlcnJ1cHQgPSBub2RlID0+IG5vZGU7XG4gIH1cbiAgYXBwZW5kKGVsZW1lbnQsIHBhcmVudCwgYmVmb3JlLCBjYWxsYmFjayA9ICgpID0+IHt9KSB7XG4gICAgaWYgKGJlZm9yZSkge1xuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50LCBiZWZvcmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICAgIGNhbGxiYWNrKCk7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbiAgcmVtb3ZlKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5kYXRhc2V0LnR5cGUgPT09IFNpbXBsZVRyZWUuRklMRSkge1xuICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5jbG9zZXN0KCdkZXRhaWxzJyk7XG4gICAgICBwYXJlbnQucmVtb3ZlKCk7XG4gICAgfVxuICAgIHRoaXMuZW1pdCgncmVtb3ZlZCcsIGVsZW1lbnQpO1xuICB9XG4gIGZpbGUobm9kZSwgcGFyZW50ID0gdGhpcy5wYXJlbnQsIGJlZm9yZSkge1xuICAgIHBhcmVudCA9IHBhcmVudC5jbG9zZXN0KCdkZXRhaWxzJyk7XG4gICAgbm9kZSA9IHRoaXMuaW50ZXJydXB0KG5vZGUpO1xuICAgIGNvbnN0IGEgPSB0aGlzLmFwcGVuZChPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKSwge1xuICAgICAgdGV4dENvbnRlbnQ6IG5vZGUubmFtZSxcbiAgICAgIGhyZWY6ICcjJyxcbiAgICAgIGlkOiBub2RlLmlkLFxuICAgIH0pLCBwYXJlbnQsIGJlZm9yZSk7XG5cbiAgICBhLmRhdGFzZXQudHlwZSA9IFNpbXBsZVRyZWUuRklMRTtcbiAgICB0aGlzLmVtaXQoJ2NyZWF0ZWQnLCBhLCBub2RlKTtcbiAgICByZXR1cm4gYTtcbiAgfVxuICBmb2xkZXIobm9kZSwgcGFyZW50ID0gdGhpcy5wYXJlbnQsIGJlZm9yZSkge1xuICAgIHBhcmVudCA9IHBhcmVudC5jbG9zZXN0KCdkZXRhaWxzJyk7XG4gICAgbm9kZSA9IHRoaXMuaW50ZXJydXB0KG5vZGUpO1xuICAgIGNvbnN0IGRldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkZXRhaWxzJyk7XG4gICAgY29uc3Qgc3VtbWFyeSA9IE9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3VtbWFyeScpLCB7XG4gICAgICB0ZXh0Q29udGVudDogbm9kZS5uYW1lXG4gICAgfSk7XG4gICAgZGV0YWlscy5hcHBlbmRDaGlsZChzdW1tYXJ5KTtcbiAgICB0aGlzLmFwcGVuZChkZXRhaWxzLCBwYXJlbnQsIGJlZm9yZSwgKCkgPT4ge1xuICAgICAgZGV0YWlscy5vcGVuID0gbm9kZS5vcGVuO1xuICAgICAgZGV0YWlscy5kYXRhc2V0LnR5cGUgPSBTaW1wbGVUcmVlLkZPTERFUjtcbiAgICB9KTtcbiAgICB0aGlzLmVtaXQoJ2NyZWF0ZWQnLCBzdW1tYXJ5LCBub2RlKTtcbiAgICByZXR1cm4gc3VtbWFyeTtcbiAgfVxuICBvcGVuKGRldGFpbHMpIHtcbiAgICBkZXRhaWxzLm9wZW4gPSB0cnVlO1xuICB9XG4gIGhpZXJhcmNoeShlbGVtZW50ID0gdGhpcy5hY3RpdmUoKSkge1xuICAgIGlmICh0aGlzLnBhcmVudC5jb250YWlucyhlbGVtZW50KSkge1xuICAgICAgY29uc3QgbGlzdCA9IFtdO1xuICAgICAgd2hpbGUgKGVsZW1lbnQgIT09IHRoaXMucGFyZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmRhdGFzZXQudHlwZSA9PT0gU2ltcGxlVHJlZS5GSUxFKSB7XG4gICAgICAgICAgbGlzdC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZGF0YXNldC50eXBlID09PSBTaW1wbGVUcmVlLkZPTERFUikge1xuICAgICAgICAgIGxpc3QucHVzaChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N1bW1hcnknKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gIC8vIFRoaXMgbWV0aG9kIHRha2VzIGFuIGVsZW1lbnQgYXMgYW4gYXJndW1lbnQgYW5kIHJldHVybiB0aGUgZnVsbCBwYXRoIG9mIGl0IHdpdGggYSBjdXN0b20gc2VwYXJhdG9yXG4gIGdldFBhdGgoZWxlbWVudCwgc2VwYXJhdG9yID0gJy8nKSB7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLmhpZXJhcmNoeShlbGVtZW50KTtcblxuICAgIHJldHVybiBub2Rlcy5tYXAobiA9PiBuLnRleHRDb250ZW50KS5yZXZlcnNlKCkuam9pbihzZXBhcmF0b3IpO1xuICB9XG4gIHNpYmxpbmdzKGVsZW1lbnQgPSB0aGlzLnBhcmVudC5xdWVyeVNlbGVjdG9yKCdhLCBkZXRhaWxzJykpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQuY29udGFpbnMoZWxlbWVudCkpIHtcbiAgICAgIGlmIChlbGVtZW50LmRhdGFzZXQudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gWy4uLmVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlbl0uZmlsdGVyKGUgPT4ge1xuICAgICAgICByZXR1cm4gZS5kYXRhc2V0LnR5cGUgPT09IFNpbXBsZVRyZWUuRklMRSB8fCBlLmRhdGFzZXQudHlwZSA9PT0gU2ltcGxlVHJlZS5GT0xERVI7XG4gICAgICB9KS5tYXAoZSA9PiB7XG4gICAgICAgIGlmIChlLmRhdGFzZXQudHlwZSA9PT0gU2ltcGxlVHJlZS5GSUxFKSB7XG4gICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGUucXVlcnlTZWxlY3Rvcignc3VtbWFyeScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuICBjaGlsZHJlbihkZXRhaWxzKSB7XG4gICAgY29uc3QgZSA9IGRldGFpbHMucXVlcnlTZWxlY3RvcignYSwgZGV0YWlscycpO1xuICAgIGlmIChlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaWJsaW5ncyhlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxufVxuU2ltcGxlVHJlZS5GSUxFID0gJ2ZpbGUnO1xuU2ltcGxlVHJlZS5GT0xERVIgPSAnZm9sZGVyJztcblxuY2xhc3MgQXN5bmNUcmVlIGV4dGVuZHMgU2ltcGxlVHJlZSB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgb3B0aW9ucykge1xuICAgIHN1cGVyKHBhcmVudCwgb3B0aW9ucyk7XG4gICAgLy8gZG8gbm90IGFsbG93IHRvZ2dsaW5nIHdoZW4gZm9sZGVyIGlzIGxvYWRpbmdcbiAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgIGNvbnN0IGRldGFpbHMgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgaWYgKGRldGFpbHMub3BlbiAmJiBkZXRhaWxzLmRhdGFzZXQubG9hZGVkID09PSAnZmFsc2UnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnYXN5bmMtdHJlZScpO1xuICB9XG4gIC8vIGFkZCBvcGVuIGV2ZW50IGZvciBmb2xkZXIgY3JlYXRpb25cbiAgZm9sZGVyKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBzdW1tYXJ5ID0gc3VwZXIuZm9sZGVyKC4uLmFyZ3MpO1xuICAgIGNvbnN0IGRldGFpbHMgPSBzdW1tYXJ5LmNsb3Nlc3QoJ2RldGFpbHMnKTtcbiAgICBkZXRhaWxzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvZ2dsZScsIGUgPT4ge1xuICAgICAgdGhpcy5lbWl0KGRldGFpbHMuZGF0YXNldC5sb2FkZWQgPT09ICdmYWxzZScgJiYgZGV0YWlscy5vcGVuID8gJ2ZldGNoJyA6ICdvcGVuJywgc3VtbWFyeSwgYXJnc1swXSk7XG4gICAgfSk7XG4gICAgc3VtbWFyeS5yZXNvbHZlID0gKCkgPT4ge1xuICAgICAgZGV0YWlscy5kYXRhc2V0LmxvYWRlZCA9IHRydWU7XG4gICAgICB0aGlzLmVtaXQoJ29wZW4nLCBzdW1tYXJ5KTtcbiAgICB9O1xuICAgIHJldHVybiBzdW1tYXJ5O1xuICB9XG4gIGFzeW5jRm9sZGVyKG5vZGUsIHBhcmVudCwgYmVmb3JlKSB7XG4gICAgY29uc3Qgc3VtbWFyeSA9IHRoaXMuZm9sZGVyKG5vZGUsIHBhcmVudCwgYmVmb3JlKTtcbiAgICBjb25zdCBkZXRhaWxzID0gc3VtbWFyeS5jbG9zZXN0KCdkZXRhaWxzJyk7XG4gICAgZGV0YWlscy5kYXRhc2V0LmxvYWRlZCA9IGZhbHNlO1xuICAgIGlmIChub2RlLm9wZW4pIHtcbiAgICAgIHRoaXMub3BlbihkZXRhaWxzKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bW1hcnk7XG4gIH1cbiAgdW5sb2FkRm9sZGVyKHN1bW1hcnkpIHtcbiAgICBjb25zdCBkZXRhaWxzID0gc3VtbWFyeS5jbG9zZXN0KCdkZXRhaWxzJyk7XG4gICAgZGV0YWlscy5vcGVuID0gZmFsc2U7XG4gICAgY29uc3QgZm9jdXNlZCA9IHRoaXMuYWN0aXZlKCk7XG4gICAgaWYgKGZvY3VzZWQgJiYgdGhpcy5wYXJlbnQuY29udGFpbnMoZm9jdXNlZCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0KGRldGFpbHMpO1xuICAgIH1cbiAgICBbLi4uZGV0YWlscy5jaGlsZHJlbl0uc2xpY2UoMSkuZm9yRWFjaChlID0+IGUucmVtb3ZlKCkpO1xuICAgIGRldGFpbHMuZGF0YXNldC5sb2FkZWQgPSBmYWxzZTtcbiAgfVxuICBicm93c2UodmFsaWRhdGUsIGVzID0gdGhpcy5zaWJsaW5ncygpKSB7XG4gICAgZm9yIChjb25zdCBlIG9mIGVzKSB7XG4gICAgICBpZiAodmFsaWRhdGUoZSkpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QoZSk7XG4gICAgICAgIGlmIChlLmRhdGFzZXQudHlwZSA9PT0gU2ltcGxlVHJlZS5GSUxFKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCgnYnJvd3NlJywgZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50ID0gZS5jbG9zZXN0KCdkZXRhaWxzJyk7XG4gICAgICAgIGlmIChwYXJlbnQub3Blbikge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJyb3dzZSh2YWxpZGF0ZSwgdGhpcy5jaGlsZHJlbihwYXJlbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uY2UoJ29wZW4nLCAoKSA9PiB0aGlzLmJyb3dzZSh2YWxpZGF0ZSwgdGhpcy5jaGlsZHJlbihwYXJlbnQpKSk7XG4gICAgICAgICAgICB0aGlzLm9wZW4ocGFyZW50KTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5lbWl0KCdicm93c2UnLCBmYWxzZSk7XG4gIH1cbn1cblxuY2xhc3MgU2VsZWN0VHJlZSBleHRlbmRzIEFzeW5jVHJlZSB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIocGFyZW50LCBvcHRpb25zKTtcbiAgICAvKiBtdWx0aXBsZSBjbGlja3Mgb3V0c2lkZSBvZiBlbGVtZW50cyAqL1xuICAgIHBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgaWYgKGUuZGV0YWlsID4gMSkge1xuICAgICAgICBjb25zdCBhY3RpdmUgPSB0aGlzLmFjdGl2ZSgpO1xuICAgICAgICBpZiAoYWN0aXZlICYmIGFjdGl2ZSAhPT0gZS50YXJnZXQpIHtcbiAgICAgICAgICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gJ0EnIHx8IGUudGFyZ2V0LnRhZ05hbWUgPT09ICdTVU1NQVJZJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0KGUudGFyZ2V0LCAnY2xpY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIHRoaXMuZm9jdXMoYWN0aXZlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcbiAgICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuYWN0aXZlKCk7XG4gICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgIHRoaXMuZm9jdXMoYWN0aXZlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGUgPT4ge1xuICAgICAgY29uc3QgYWN0aXZlID0gdGhpcy5hY3RpdmUoKTtcbiAgICAgIGlmIChhY3RpdmUgIT09IGUudGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0KGUudGFyZ2V0LCAnZm9jdXMnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLm9uKCdjcmVhdGVkJywgKGVsZW1lbnQsIG5vZGUpID0+IHtcblxuICAgICAgaWYgKG5vZGUuc2VsZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0LXRyZWUnKTtcbiAgICAvLyBuYXZpZ2F0ZVxuICAgIGlmIChvcHRpb25zLm5hdmlnYXRlKSB7XG4gICAgICB0aGlzLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBjb2RlXG4gICAgICAgIH0gPSBlO1xuICAgICAgICBpZiAoY29kZSA9PT0gJ0Fycm93VXAnIHx8IGNvZGUgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0ZShjb2RlID09PSAnQXJyb3dVcCcgPyAnYmFja3dhcmQnIDogJ2ZvcndhcmQnKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmb2N1cyh0YXJnZXQpIHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuaWQpO1xuICAgIHRoaXMuaWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBkb2N1bWVudC5oYXNGb2N1cygpICYmIHRhcmdldC5mb2N1cygpLCAxMDApO1xuICB9XG4gIHNlbGVjdCh0YXJnZXQpIHtcbiAgICBjb25zdCBzdW1tYXJ5ID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3N1bW1hcnknKTtcbiAgICBpZiAoc3VtbWFyeSkge1xuICAgICAgdGFyZ2V0ID0gc3VtbWFyeTtcbiAgICB9XG4gICAgWy4uLnRoaXMucGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpXS5mb3JFYWNoKGUgPT4gZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICB0aGlzLmZvY3VzKHRhcmdldCk7XG4gICAgdGhpcy5lbWl0KCdzZWxlY3QnLCB0YXJnZXQpO1xuICB9XG4gIGFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkJyk7XG4gIH1cbiAgbmF2aWdhdGUoZGlyZWN0aW9uID0gJ2ZvcndhcmQnKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuYWN0aXZlKCk7XG4gICAgaWYgKGUpIHtcbiAgICAgIGNvbnN0IGxpc3QgPSBbLi4udGhpcy5wYXJlbnQucXVlcnlTZWxlY3RvckFsbCgnYSwgc3VtbWFyeScpXTtcbiAgICAgIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKGUpO1xuICAgICAgY29uc3QgY2FuZGlkYXRlcyA9IGRpcmVjdGlvbiA9PT0gJ2ZvcndhcmQnID8gbGlzdC5zbGljZShpbmRleCArIDEpIDogbGlzdC5zbGljZSgwLCBpbmRleCkucmV2ZXJzZSgpO1xuICAgICAgZm9yIChjb25zdCBtIG9mIGNhbmRpZGF0ZXMpIHtcbiAgICAgICAgaWYgKG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0KG0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBKU09OVHJlZSBleHRlbmRzIFNlbGVjdFRyZWUge1xuICBqc29uKGFycmF5LCBwYXJlbnQpIHtcbiAgICBpZiAodHlwZW9mKGFycmF5KSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm47XG4gICAgYXJyYXkuZm9yRWFjaChpdGVtID0+IHtcblxuICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gU2ltcGxlVHJlZS5GT0xERVIgfHwgaXRlbS5jaGlsZHJlbiA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzWyhpdGVtLmFzeW5jZWQgfHwgaXRlbS5jaGlsZHJlbiA9PT0gdHJ1ZSkgPyAnYXN5bmNGb2xkZXInIDogJ2ZvbGRlciddKGl0ZW0sIHBhcmVudCk7XG4gICAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSB7XG4gICAgICAgICAgdGhpcy5qc29uKGl0ZW0uY2hpbGRyZW4sIGZvbGRlcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZmlsZShpdGVtLCBwYXJlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/modules/js-tree.js\n")}}]);